function student_navigation_popover(referer,is_data_filled){if(referer=="preferences")if(is_data_filled){$(".preferences_element").addClass("filled");$(".preferences_element span").addClass("icon-preferences-filled");$(".preferences_element span").removeClass("icon-preferences-linear")}else{$(".preferences_element").removeClass("filled");$(".preferences_element").addClass("active");$(".preferences_element span").removeClass("icon-preferences-filled");$(".preferences_element span").addClass("icon-preferences-linear")}else if(referer==
"personal_details")if(is_data_filled){$(".personal_details_element").addClass("filled");$(".personal_details_element span").addClass("icon-personal-details-filled");$(".personal_details_element span").removeClass("icon-personal-details-linear")}else{$(".personal_details_element").removeClass("filled");$(".personal_details_element").addClass("active");$(".personal_details_element span").removeClass("icon-personal-details-filled");$(".personal_details_element span").addClass("icon-personal-details-linear");
profile_incomplete_student_navigation_popover("personal_details")}else if(referer=="education_details")if(is_data_filled){$(".education_details_element").addClass("filled");$(".education_details_element span").addClass("icon-education-details-filled");$(".education_details_element span").removeClass("icon-education-details-linear");$(".experiences_element a").attr("href","/student/work_experiences?isFromNavBar=true");$(".skills_element a").attr("href","/student/skills?isFromNavBar=true");$(".work_samples_element a").attr("href",
"/student/work_samples?isFromNavBar=true")}else{$(".education_details_element").removeClass("filled");$(".education_details_element").addClass("active");$(".education_details_element span").removeClass("icon-education-details-filled");$(".education_details_element span").addClass("icon-education-details-linear");profile_incomplete_student_navigation_popover("education_details")}else if(referer=="experiences"||referer=="other_experiences")if(is_data_filled){$(".experiences_element").addClass("filled");
$(".experiences_element span").addClass("icon-experiences-filled");$(".experiences_element span").removeClass("icon-experiences-linear")}else{$(".experiences_element").removeClass("filled");$(".experiences_element").addClass("active");$(".experiences_element span").removeClass("icon-experiences-filled");$(".experiences_element span").addClass("icon-experiences-linear")}else if(referer=="work_samples"||referer=="additional_details")if(is_data_filled){$(".work_samples_element").addClass("filled");$(".work_samples_element span").addClass("icon-work-samples-filled");
$(".work_samples_element span").removeClass("icon-work-samples-linear")}else{$(".work_samples_element").removeClass("filled");$(".work_samples_element").addClass("active");$(".work_samples_element span").removeClass("icon-work-samples-filled");$(".work_samples_element span").addClass("icon-work-samples-linear")}else if(referer=="skills")if(is_data_filled){$(".skills_element").addClass("filled");$(".skills_element span").addClass("icon-skills-filled");$(".skills_element span").removeClass("icon-skills-linear")}else{$(".skills_element").removeClass("filled");
$(".skills_element").addClass("active");$(".skills_element span").removeClass("icon-skills-filled");$(".skills_element span").addClass("icon-skills-linear")}}
function profile_incomplete_student_navigation_popover(referer){if(referer=="personal_details"){$(".education_details_element").removeClass("active");$(".education_details_element").removeClass("filled");$(".education_details_element a").removeAttr("href");$(".experiences_element a").removeAttr("href");$(".skills_element a").removeAttr("href");$(".work_samples_element a").removeAttr("href")}else if(referer=="education_details"){$(".experiences_element a").removeAttr("href");$(".skills_element a").removeAttr("href");
$(".work_samples_element a").removeAttr("href")}$(".experiences_element").removeClass("active");$(".work_samples_element").removeClass("active");$(".skills_element").removeClass("active");$(".experiences_element").removeClass("filled");$(".work_samples_element").removeClass("filled");$(".skills_element").removeClass("filled")}
function updateStudentNavigationTabs(referer){var elmnt="";if(referer=="preferences"){$("#preferencesTab").addClass("active");elmnt=document.getElementById("resumeTab")}else if(referer=="dashboard"){$("#applicationTab").addClass("active");elmnt=document.getElementById("applicationTab")}else if(referer=="resume"){$("#resumeTab").addClass("active");elmnt=document.getElementById("blank")}if(elmnt)elmnt.scrollIntoView();$("html,body").animate({scrollTop:$("body").offset().top},"fast");$(".navTabItem").click(function(){if($(this).hasClass("active"))return false;
var url=$(this).attr("url");window.location=url})};$(document).ready(function(){$(document.body).on("click","#personal-detail-submit",function(){setTimeout(function(){if($("#phone_primary").val()==""||$("#country_code").val()==""){$("#phone_primary").closest(".input-group").removeClass("has-success");$("#phone_primary").closest(".input-group").addClass("has-error");$("#phone_number-error").html("This field is required.")}else if(!($("#country_code").val().match(/^[/\s+/][0-9]+$/)&&$("#country_code").val().length<=5)){$("#phone_primary").closest(".input-group").removeClass("has-success");
$("#phone_primary").closest(".input-group").addClass("has-error");$("#phone_number-error").html("Please specify a valid country code starting with +.")}else if($("#country_code").val()=="+91"&&!$("#phone_primary").val().match(/^[789][0-9]{9}$/)){$("#phone_primary").closest(".input-group").removeClass("has-success");$("#phone_primary").closest(".input-group").addClass("has-error");$("#phone_number-error").html("Please specify a valid phone number.")}if($("#salutation").val()==""||$("#first_name").val()==
""){if($("#salutation").val()==""){$("#salutation").closest("select").addClass("error");$("#salutation").closest("select").removeClass("valid")}$("#salutation").closest(".form-group").addClass("has-error");$("#salutation").closest(".form-group").removeClass("has-success");$("#name-error").html("This field is required.")}},1)});$("#salutation").focusout(function(){if($("#salutation").val()==""){$("#salutation").closest("select").addClass("error");$("#salutation").closest("select").removeClass("valid")}});
if(is_personal_details_complete)student_navigation_popover("personal_details",true);else student_navigation_popover("personal_details",false);$("#personal_details #email").attr("readonly","true");$("#personal_details #email").attr("disabled","true");reset_personal_details_form();$(document.body).on("click",".personal_details_edit",function(){reset_personal_details_form()});$("#personal_details").submit(function(e){e.preventDefault()}).validate({onfocusout:function(element){this.element(element)},
groups:{phone_number:"country_code phone_primary",name:"salutation first_name last_name"},rules:{salutation:{required:true},first_name:{required:true,user_name:true,maxlength:100},last_name:{user_name:true,maxlength:100},current_city:{required:true,valid_city:function(){is_valid_city=false;if($("#current_city_locality").val()==""&&$("#current_city_administrative_area_level_2").val()=="")return true;if($("#current_city_locality").val()=="Unavailable"&&$("#current_city_sublocality_level_1").val()==
""&&$("#current_city_sublocality_level_2").val()==""&&$("#current_city_administrative_area_level_2").val()==""&&$("#current_city_administrative_area_level_1").val()==""&&$("#current_city_country").val()=="")return true;is_valid_city=true;return true}},second_city_of_residence:{valid_city:function(){is_valid_city=false;if($("#second_city_of_residence_locality").val()==""&&$("#second_city_of_residence_administrative_area_level_2").val()=="")return true;if($("#second_city_of_residence_locality").val()==
"Unavailable"&&$("#second_city_of_residence_sublocality_level_1").val()==""&&$("#second_city_of_residence_sublocality_level_2").val()==""&&$("#second_city_of_residence_administrative_area_level_2").val()==""&&$("#second_city_of_residence_administrative_area_level_1").val()==""&&$("#second_city_of_residence_country").val()=="")return true;is_valid_city=true;return true}},country_code:{required:true,countrycode:true},phone_primary:{required:true,onlynumbers:true,mobilenumber:function(){var country_code=
$("#country_code").val();if(country_code=="+91")return true}}},errorPlacement:function(label,element){if(element.attr("name")==="salutation"||element.attr("name")==="first_name"||element.attr("name")==="last_name")label.insertAfter("#last_name");else if(element.attr("name")==="phone_primary"||element.attr("name")==="country_code")label.insertAfter("#phone_primary");else label.insertAfter(element)},highlight:function(label){$(label).closest(".form-group").addClass("has-error");$(label).closest(".form-group").removeClass("has-success");
$(label).closest("input").addClass("error");$(label).closest("input").removeClass("valid")},success:function(label){$(label).closest(".form-group").addClass("has-success");$(label).closest(".form-group").removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},submitHandler:function(){$("#salutation").attr("disabled",false);var data=$("#personal_details").serialize();var url="";url="/student/personal_details_update";NProgress.start();$(".loading_image").show();
$.ajax(url,{data:data,success:personal_details_update_success,error:onError,type:"POST"});return false}})});
var personal_details_update_success=function(data){try{NProgress.done();data=JSON.parse(data);if(!data.success)throw_error(data.errorThrown);else{reset_personal_details_form();if(!data.successPage){$("#personal-detail-modal").modal("hide");$("#personal_details_view").html(data.htmlResponse);$("#personal_details_resume_first_name").val(data.first_name);$("#personal_details_resume_last_name").val(data.last_name);$("#personal_details_resume_email").val(data.email);$("#personal_details_resume_country_code").val(data.country_code);
$("#personal_details_resume_phone_primary").val(data.phone_primary);$("#personal_details_resume_current_city").val(data.current_city);$("#personal_details_resume_second_city_of_residence").val(data.second_city_of_residence);success_notification(data.successMsg)}else window.location=data.successPage}}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}};
function personal_details_initMap(){locationInputValidationOnFocusChangeListener("current_city","personal_details","(regions)");locationInputValidationOnFocusChangeListener("second_city_of_residence","personal_details","(regions)")}function reset_personal_details_form(){reset_profile_forms()};$(document).ready(function(){set_year_to_select("#college_start_year_container","start_year",0);set_year_to_select("#college_end_year_container","end_year",0);set_year_to_select("#school_year_of_completion_container","year_of_completion",0);$(document.body).on("click","#go_to_training_btn",function(){window.location=training_url});$(".cantFindDegreeMessage").hide();$(".cantFindDegree").click(function(){$(".cantFindDegreeMessage").slideToggle()});$(document.body).on("change","#year_of_completion",
function(){$("#school-form").validate().element("#year_of_completion")});$(document.body).on("change","#end_year",function(){$("#college-form").validate().element("#end_year")});$(document.body).on("change","#start_year",function(){$("#college-form").validate().element("#start_year")});toggle_education_button_container();$(document.body).on("click",".education-tabs",function(){reset_education_detail_form()});$(document.body).on("click",".edit",function(){reset_education_detail_form();var education_type=
$(this).parent().attr("education_type");var education_detail_id=$(this).parent().attr("education_detail_id");if(education_type=="college")populate_college_form(education_detail_id);else if(education_type=="school")populate_school_form(education_detail_id)});$(document.body).on("click",".delete",function(){var result=confirm("Are you sure you want to delete?");if(result===true){var education_type=$(this).parent().attr("education_type");var url="/student_education/delete_student_"+education_type;var education_detail_id=
$(this).parent().attr("education_detail_id");var csrfName=$("#csrf").attr("name");var csrfValue=$("#csrf").attr("value");var dataString={};dataString["id"]=education_detail_id;dataString[csrfName]=csrfValue;NProgress.start();$(".loading_image").show();var data=dataString;$.ajax(url,{type:"POST",success:delete_education_detail_success,data:data})}return false});call_autocomplete("school","school");$("#school").autocomplete("option","appendTo","#school-form");$("#school").autocomplete({focus:function(event,
ui){this.value=ui.item.label}});call_autocomplete("board","board");$("#board").autocomplete("option","appendTo","#school-form");$("#board").autocomplete({focus:function(event,ui){this.value=ui.item.label}});call_autocomplete("college","college");$("#college").autocomplete("option","appendTo","#college-form");$("#college").autocomplete({focus:function(event,ui){this.value=ui.item.label}});call_autocomplete("degree","degree");$("#degree").autocomplete("option","appendTo","#college-form");$("#degree").autocomplete({focus:function(event,
ui){this.value=ui.item.label;if(ui.item.value=="No match found"){$("#degree").val("");return false}},select:function(event,ui){if(ui.item.value=="No match found"){$("#degree").val("");return false}},change:function(event,ui){if(ui.item==null){$("#degree").val("");return false}}});call_autocomplete("stream","stream");$("#stream").autocomplete("option","appendTo","#college-form");$("#stream").autocomplete({focus:function(event,ui){this.value=ui.item.label}});$("#secondary-tab").click(function(){initialize_secondary_modal()});
$("#senior_secondary-tab").click(function(){initialize_senior_secondary_modal()});$("#graduation-tab").click(function(){initialize_graduation_modal()});$("#post-graduation-tab").click(function(){initialize_post_graduation_modal()});$("#diploma-tab").click(function(){initialize_diploma_modal()});$("#phd-tab").click(function(){initialize_phd_modal()});$("#college-form").submit(function(e){e.preventDefault()}).validate({ignore:"",onfocusout:function(element){this.element(element)},rules:{college:{required:true,
maxlength:100,valid_institute:true},degree:{required:function(){return $("#college-type").val()=="ug"||$("#college-type").val()=="pg"},maxlength:100,valid_degree:true},stream:{maxlength:100,required:function(){return $("#college-type").val()=="diploma"||$("#college-type").val()=="phd"},valid_stream:true},start_year:{required:true,min:1980,max:function(){return(new Date).getFullYear()}},end_year:{number:true,required:true,min:function(){return+$("#start_year").val()+ +1}},performance_scale:{required:function(){return $(" #performance-college").val()!=
""}},performance:{decimalnumbers:true,max:function(elem){var performance_scale=$("#performance-scale-college").val();return parseInt(performance_scale)},greater_than:0}},errorPlacement:function(label,element){if(element.attr("name")==="start_year")label.insertAfter("#start_year_chzn");else if(element.attr("name")==="end_year")label.insertAfter("#end_year_chzn");else if(element.attr("name")==="performance")label.insertAfter("#performance-college");else label.insertAfter(element)},highlight:function(label){$(label).closest(".form-group").addClass("has-error");
$(label).closest(".form-group").removeClass("has-success");$(label).closest("input").addClass("error");$(label).closest("input").removeClass("valid")},success:function(label){$(label).closest(".form-group").addClass("has-success");$(label).closest(".form-group").removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},submitHandler:function(){var data=$("#college-form").serialize();var url="";url="/student_education/add_student_college";
if($("#college-submit").val()=="Update")url="/student_education/update_student_college";NProgress.start();$(".loading_image").show();$.ajax(url,{data:data,success:college_add_success,error:onError,type:"POST"});return false}});$("#school-form").submit(function(e){e.preventDefault()}).validate({ignore:"",onfocusout:function(element){this.element(element)},rules:{school:{maxlength:100,valid_school:true},board:{required:true,maxlength:100},year_of_completion:{number:true,min:1980,required:true,max:function(){return(new Date).getFullYear()+
1}},performance_scale:{required:function(){return $("#performance-school").val()!=""}},performance:{decimalnumbers:true,max:function(elem){var performance_scale=$("#performance-scale-school").val();return parseInt(performance_scale)},greater_than:0}},errorPlacement:function(label,element){if(element.attr("name")==="performance")label.insertAfter("#performance-school");else if(element.attr("name")==="year_of_completion")label.insertAfter("#year_of_completion_chzn");else label.insertAfter(element)},
highlight:function(label){$(label).closest(".form-group").addClass("has-error");$(label).closest(".form-group").removeClass("has-success");$(label).closest("input").addClass("error");$(label).closest("input").removeClass("valid")},success:function(label){$(label).closest(".form-group").addClass("has-success");$(label).closest(".form-group").removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},submitHandler:function(){var data=$("#school-form").serialize();
var url="";url="/student_education/add_student_school";if($("#school-submit").val()=="Update")url="/student_education/update_student_school";NProgress.start();$(".loading_image").show();$.ajax(url,{data:data,success:school_add_success,error:onError,type:"POST"});return false}});color_of_select_placeholder($("#start_year"));color_of_select_placeholder($("#end_year"));color_of_select_placeholder($("#year_of_completion"));color_of_select_placeholder($("#stream-school"));var element_id="#resume_score_mobile_message";
placeElementAtBottomRelativeToFooter(element_id)});
var school_add_success=function(data){try{NProgress.done();data=JSON.parse(data);if(data.success){$("#prefilled-education-details-table").html(data.htmlResponse);$("#school-modal").modal("hide");if(data.source=="add"){var education_type=data.education_type;$("#"+education_type+"-tab").hide();success_notification("Successfully Added")}else success_notification("Successfully Updated");set_student_resume_score_in_view(data.student_resume_score);$("#scoreValueMobile span").text(data.student_resume_score);reset_education_detail_form();
toggle_education_button_container()}else{if(data.errorThrown.validationError){throw_validation_error(data.errorThrown.validationError,"#school-form");return}failure_notification(data.errorThrown)}}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}};
var college_add_success=function(data){try{NProgress.done();data=JSON.parse(data);if(data.success){$("#prefilled-education-details-table").html(data.htmlResponse);$("#college-modal").modal("hide");if(data.source=="add")success_notification("Successfully Added");else success_notification("Successfully Updated");set_student_resume_score_in_view(data.student_resume_score);$("#scoreValueMobile span").text(data.student_resume_score);reset_education_detail_form();toggle_education_button_container()}else{if(data.errorThrown.validationError){throw_validation_error(data.errorThrown.validationError,
"#college-form");return}failure_notification(data.errorThrown)}}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}};
var delete_education_detail_success=function(data){try{NProgress.done();data=JSON.parse(data);if(data.success===true){var id=data.id;var type=data.type;var education_type=data.education_type;$("#education_detail_container_"+type+"_"+id).remove();$("#"+education_type+"-tab").show();success_notification("Successfully Deleted");set_student_resume_score_in_view(data.student_resume_score);$("#scoreValueMobile span").text(data.student_resume_score)}else failure_notification(data.errorThrown)}catch(e){throw_error(e);
NProgress.done();$(".loading_image").hide()}toggle_education_button_container();reset_education_detail_form()};function initialize_secondary_modal(){$("#school-title").text("X (Secondary) details");$("#school-modal #stream_container").hide();$("#school-modal #school-type").val("secondary")}
function initialize_senior_secondary_modal(){$("#school-title").text("XII (Senior Secondary or Equivalent) details");$("#school-modal #stream_container").show();$("#school-modal #school-type").val("senior_secondary")}
function initialize_graduation_modal(){$("#college-title").text("Graduation details");$("#college-modal #degree_container").show();$("#college-modal #college-type").val("ug");$("#college-modal #stream").attr("placeholder","Ex: Economics ");$("#college-modal #degree").attr("placeholder","Ex: B.Sc (Hons.) ");$("#college-modal #college").attr("placeholder","Ex: Hindu College ");$("#college-modal #stream_label").html("Stream:");$(".tips_education").html("<ul><li>Example: If your degree is B.Sc in Chemistry, then select Bachelor of Science (B.Sc) in <b>degree</b> and Chemistry in <b>streams</b>.</li><li>If you can't find your degree, check for typos or different ways of writing your degree or choose from the closest available. Write to <a href='mailto:student@internshala.com'>student@internshala.com</a> if you are pursuing a degree not available in the list.</li></ul>")}
function initialize_post_graduation_modal(){$("#college-title").text("Post Graduation details");$("#college-modal #degree_container").show();$("#college-modal #college-type").val("pg");$("#college-modal #stream").attr("placeholder","Ex: Finance ");$("#college-modal #degree").attr("placeholder","Ex: MBA ");$("#college-modal #college").attr("placeholder","Ex: New Delhi Institute of Management ");$("#college-modal #stream_label").html("Stream:");$(".tips_education").html("<ul><li>Example: If your degree is M.Sc in Chemistry, then select Master of Science (M.Sc) in <b>degree</b> and Chemistry in <b>streams</b>.</li><li>If you can't find your degree, check for typos or different ways of writing your degree or choose from the closest available. Write to <a href='mailto:student@internshala.com'>student@internshala.com</a> if you are pursuing a degree not available in the list.</li></ul>")}
function initialize_diploma_modal(){$("#college-title").text("Diploma details");$("#college-modal #degree_container").hide();$("#college-modal #college-type").val("diploma");$("#college-modal #stream").attr("placeholder","Ex: Creative Writing ");$("#college-modal #college").attr("placeholder","Ex: IGNOU ");$("#college-modal #stream_label").html("Stream*:")}
function initialize_phd_modal(){$("#college-title").text("PhD details");$("#college-modal #degree_container").hide();$("#college-modal #college-type").val("phd");$("#college-modal #stream").attr("placeholder","Ex: Commerce & Bussiness Studies ");$("#college-modal #college").attr("placeholder","Ex: Jamia Millia Islamia");$("#college-modal #stream_label").html("Stream*:")}
function populate_college_form(education_detail_id){var college=$("#education_detail_college_college_"+education_detail_id).val();var start_year=$("#education_detail_start_year_college_"+education_detail_id).val();var end_year=$("#education_detail_end_year_college_"+education_detail_id).val();var type=$("#education_detail_type_college_"+education_detail_id).val();var degree=$("#education_detail_degree_college_"+education_detail_id).val();var stream=$("#education_detail_stream_college_"+education_detail_id).val();
var performance_scale=$("#education_detail_performance_scale_college_"+education_detail_id).val();var performance=$("#education_detail_performance_college_"+education_detail_id).val();if(type=="ug")initialize_graduation_modal();else if(type=="pg")initialize_post_graduation_modal();else if(type=="diploma")initialize_diploma_modal();else if(type=="phd")initialize_phd_modal();$("#college-modal #college-type").val(type);$("#college-modal #education-detail-id").val(education_detail_id);$("#college-modal #college").val(college);
set_year_to_select("#college_start_year_container","start_year",start_year);set_year_to_select("#college_end_year_container","end_year",end_year);$("#college-modal #degree").val(degree);$("#college-modal #stream").val(stream);$("#college-modal #performance-scale-college").val(performance_scale);$("#college-modal #performance-college").val(performance);$("#college-submit").val("Update")}
function populate_school_form(education_detail_id){var school=$("#education_detail_school_school_"+education_detail_id).val();var board=$("#education_detail_board_school_"+education_detail_id).val();var type=$("#education_detail_type_school_"+education_detail_id).val();var degree=$("#education_detail_degree_school_"+education_detail_id).val();var stream=$("#education_detail_stream_school_"+education_detail_id).val();var performance_scale=$("#education_detail_performance_scale_school_"+education_detail_id).val();
var performance=$("#education_detail_performance_school_"+education_detail_id).val();var end_year=$("#education_detail_end_year_school_"+education_detail_id).val();if(type=="secondary")initialize_secondary_modal();else if(type=="senior_secondary")initialize_senior_secondary_modal();$("#school-modal #school-type").val(type);$("#school-modal #education-detail-id").val(education_detail_id);$("#school-modal #board").val(board);$("#school-modal #stream-school").val(stream);set_year_to_select("#school_year_of_completion_container",
"year_of_completion",end_year);$("#school-modal #performance-scale-school").val(performance_scale);$("#school-modal #performance-school").val(performance);$("#school-modal #school").val(school);$("#school-submit").val("Update")}
function toggle_education_button_container(){remove_resume_education_empty_div();var count_education_element=$(".prefilled-education-details-row").length;if(count_education_element){student_navigation_popover("education_details",true);$(".education-tabs-container .buttons_container .next-button").show();$(".prefilled-education-details-container h4").show();$("#go_to_training_btn").attr("disabled",false);$(".education-tabs-container h4").hide();$(".education-tabs-container h5").show()}else{student_navigation_popover("education_details",
false);$(".education-tabs-container .buttons_container .next-button").hide();$(".prefilled-education-details-container h4").hide();$("#go_to_training_btn").attr("disabled",true);$(".education-tabs-container h4").show();$(".education-tabs-container h5").hide()}}function remove_resume_education_empty_div(){}
function reset_education_detail_form(){$("input[type=text]").val("");$("input[type=number]").val("");reset_profile_forms();$("#school-submit").val("Save");$("#college-submit").val("Save");var collegeFormValidator=$("#college-form").validate();collegeFormValidator.resetForm();var schoolFormValidator=$("#school-form").validate();schoolFormValidator.resetForm();set_year_to_select("#college_start_year_container","start_year",0);set_year_to_select("#college_end_year_container","end_year",0);set_year_to_select("#school_year_of_completion_container",
"year_of_completion",0)}function color_of_select_placeholder(element){change_color_of_select_placeholder(element);element.change(function(){change_color_of_select_placeholder(element)})}function change_color_of_select_placeholder(element){if(element.val()=="")element.css("color","#999");else element.css("color","#333")}
function set_year_to_select(parent_div_id,element_id,selected_value){var options=generate_options_for_select(element_id,selected_value);$("#"+element_id).chosen("destroy");$(parent_div_id).html('<select data-placeholder="Choose year..." id="'+element_id+'" name="'+element_id+'" class="chosen form-control chosen-year" tabindex="2"><option value=""> Choose year</option>'+options+"</select>");var config={".chosen-select":{},".chosen-select-deselect":{allow_single_deselect:true},".chosen-select-no-single":{disable_search_threshold:10},
".chosen-select-no-results":{no_results_text:"Oops, nothing found!"},".chosen-select-width":{width:"95%"}};for(var selector in config)$(selector).chosen(config[selector]);$(".chosen").chosen()}
function generate_options_for_select(element_id,value){var options="";var min_year="";var max_year="";var selected="";if(element_id=="start_year"){min_year=start_year_min;max_year=start_year_max}else if(element_id=="end_year"){min_year=end_year_min;max_year=end_year_max}else if(element_id=="year_of_completion"){min_year=year_of_completion_min;max_year=year_of_completion_max}for(var i=max_year;i>=min_year;i--){if(i==value)selected="selected";else selected="";options=options+'<option value= "'+i+'" '+
selected+" >"+i+"</option>"}return options};var is_valid_city=false;
$(document).ready(function(){placeElementAtBottomRelativeToFooter("#resume_score_mobile_message");toggle_experiences_button_container();remove_experiences_empty_div();$(document.body).on("click",".fa-internship-job",function(){experiences_form_reset()});call_autocomplete("experience_organization","experience_organization");$("#experience_organization").autocomplete("option","appendTo","#experience-form");$("#experience_organization").autocomplete({focus:function(event,ui){this.value=ui.item.label}});
call_autocomplete("experience_profile","profile");$("#experience_profile").autocomplete("option","appendTo","#experience-form");$("#experience_profile").autocomplete({focus:function(event,ui){this.value=ui.item.label}});$(document.body).on("keypress","#experience_description",function(){if($("#experience_description").val().length>250)$("#experience-form").validate().element("#experience_description")});$(document.body).on("click",".experiences_edit",function(){experiences_form_reset();var experience_type=
$(this).parent().attr("experience_type");var experience_id=$(this).parent().attr("experience_id");if(experience_type=="job")initialize_job_modal();else if(experience_type=="internship")initialize_internship_modal();populate_experience_form(experience_type,experience_id)});$(document.body).on("click",".experiences_delete",function(){var result=confirm("Are you sure you want to delete?");if(result===true){var experience_id=$(this).parent().attr("experience_id");var url="/student_experience/delete_student_experience";
NProgress.start();$(".loading_image").show();var experience_id=$(this).parent().attr("experience_id");var csrfName=$("#csrf").attr("name");var csrfValue=$("#csrf").attr("value");var dataString={};dataString["id"]=experience_id;dataString[csrfName]=csrfValue;$.ajax(url,{type:"POST",success:delete_experience_success,data:dataString})}return false});$("#internship").click(function(){experiences_form_reset();initialize_internship_modal()});$("#job").click(function(){experiences_form_reset();initialize_job_modal()});
$("#experience_is_work_from_home").change(function(){$("#experience_location").removeClass("error");if($(this).is(":checked")){removeError("#experience_location-error");$("#experience_location").val("Work From Home");$("#experience_location").prop("disabled",true);$("#internship-job-modal #experience_location").css("background","#f6f6f6");$(".form-group").removeClass("has-success")}else{$("#experience_location").val("");$("#experience_location").prop("disabled",false);$("#internship-job-modal #experience_location").css("background",
"#ffffff")}});$("#experience_end_date_present").hide();$("#experience_on_going").change(function(){if($(this).is(":checked")){$("#internship-job-modal #experience_on_going").prop("checked",true);$("#internship-job-modal #experience_end_date").val("Present");$("#internship-job-modal #experience_end_date").prop("disabled",true);$("#internship-job-modal #experience_end_date").css("background","#f6f6f6")}else{$("#internship-job-modal #experience_on_going").prop("checked",false);$("#internship-job-modal #experience_end_date").val("");
$("#internship-job-modal #experience_end_date").prop("disabled",false);$("#internship-job-modal #experience_end_date").css("background","#ffffff");var experience_start_date=$("#experience_start_date").val();$("#experience_end_date").datepicker("option","minDate",new Date(experience_start_date))}$("#experience-form .form-group .end-date").removeClass("error");$("#experience_end_date-error").html("")});$("#experience-form").validate({onfocusout:function(element){this.element(element)},rules:{experience_profile:{required:true,
maxlength:100},experience_organization:{required:true,maxlength:100},experience_location:{required:function(){if($("#experience_is_work_from_home").is(":checked"))return false;else return true},valid_city:function(){is_valid_city=false;if($("#experience_is_work_from_home").is(":checked")){is_valid_city=true;return true}if($("#experience_location_locality").val()==""&&$("#experience_location_administrative_area_level_2").val()=="")return true;if($("#experience_location_locality").val()=="Unavailable"&&
$("#experience_location_sublocality_level_1").val()==""&&$("#experience_location_sublocality_level_2").val()==""&&$("#experience_location_administrative_area_level_2").val()==""&&$("#experience_location_administrative_area_level_1").val()==""&&$("#experience_location_country").val()=="")return true;is_valid_city=true;return true}},experience_start_date:{required:true},experience_end_date:{required:function(){if($("#experience_on_going").is(":checked"))return false;else return true}},experience_description:{maxlength:250}},
errorPlacement:function(label,element){label.insertAfter(element)},highlight:function(label){$(label).closest(".form-group").addClass("has-error");$(label).closest(".form-group").removeClass("has-success");$(label).closest("input").addClass("error");$(label).closest("input").removeClass("valid")},success:function(label){$(label).closest(".form-group").addClass("has-success");$(label).closest(".form-group").removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},
submitHandler:function(){$("#experience_is_work_from_home").val($("#experience_is_work_from_home").prop("checked")?1:0);$("#experience_on_going").val($("#experience_on_going").prop("checked")?1:0);var data=$("#experience-form").serialize();var url="";url="/student_experience/add_student_experience";if($("#internship-job-submit").val()=="Update")url="/student_experience/update_student_experience";NProgress.start();$(".loading_image").show();$.ajax(url,{data:data,success:experience_add_success,error:onError,
type:"POST"});return false}});make_field_readonly("#experience_start_date");make_field_readonly("#experience_end_date");$("#experience_start_date").datepicker({dateFormat:"yy-mm-dd",changeMonth:true,changeYear:true,maxDate:"-1D",beforeShow:function(e,t){$(".ui-datepicker").addClass("show_calendardates");$(".ui-datepicker").removeClass("hide_calendardates");$(document).off("focusin.bs.modal")},onClose:function(){$(document).on("focusin.bs.modal")},onSelect:function(selectedDate){$("#experience_end_date").datepicker("option",
"minDate",selectedDate);$(this).focusout()}}).on("change",function(){$(this).focus()});$("#experience_end_date").datepicker({dateFormat:"yy-mm-dd",changeMonth:true,changeYear:true,maxDate:"+0D",beforeShow:function(e,t){$(".ui-datepicker").addClass("show_calendardates");$(".ui-datepicker").removeClass("hide_calendardates");$(document).off("focusin.bs.modal")},onClose:function(){$(document).on("focusin.bs.modal")},onSelect:function(selectedDate){$("#experience_start_date").datepicker("option","maxDate",
selectedDate);$(this).focusout()}}).on("change",function(){$(this).focus()})});function experiences_initMap(){locationInputValidationOnFocusChangeListener("experience_location","experience-form","(regions)")}
var delete_experience_success=function(data){try{NProgress.done();data=JSON.parse(data);if(data.success===true){var id=data.id;$("#experience_container_"+id).remove();success_notification("Successfully Deleted");remove_experiences_empty_div();remove_resume_experiences_empty_div();set_student_resume_score_in_view(data.student_resume_score);$("#scoreValueMobile span").text(data.student_resume_score)}else failure_notification(data.errorThrown)}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}toggle_experiences_button_container()};
var experience_add_success=function(data){try{NProgress.done();data=JSON.parse(data);if(data.success){if(data.type=="internship")$(".internship-container").html(data.htmlResponse);else if(data.type=="job")$(".job-container").html(data.htmlResponse);$(".experiences-form-modal").modal("hide");if(data.source=="add")success_notification("Successfully Added");else success_notification("Successfully Updated");experiences_form_reset();set_student_resume_score_in_view(data.student_resume_score);$("#scoreValueMobile span").text(data.student_resume_score)}else{if(data.errorThrown.validationError){throw_validation_error(data.errorThrown.validationError);
return}failure_notification(data.errorThrown)}}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}remove_experiences_empty_div();toggle_experiences_button_container()};
function initialize_internship_modal(){$(".experience-title").text("Internship details");$("#internship-job-modal #experience_type").val("internship");$("#internship-job-modal #experience_profile").attr("placeholder","Ex: Sales & Marketing");$("#internship-job-modal #experience_location").attr("placeholder","Ex: Mumbai, Mahrastra")}
function initialize_job_modal(){$(".experience-title").text("Job details");$("#internship-job-modal #experience_type").val("job");$("#internship-job-modal #experience_profile").attr("placeholder","Ex: Operations");$("#internship-job-modal #experience_location").attr("placeholder","Ex: New Delhi")}
function populate_experience_form(experience_type,experience_id){var unique_id=experience_type+"_"+experience_id;var experience_organization=$("#experience_organization_"+unique_id).val();var experience_profile=$("#experience_profile_"+unique_id).val();var experience_is_work_from_home=$("#experience_is_work_from_home_"+unique_id).val();var experience_description=$("#experience_description_"+unique_id).val();var experience_is_on_going=$("#experience_is_on_going_"+unique_id).val();var experience_start_date=
$("#experience_start_date_"+unique_id).val();var experience_end_date=$("#experience_end_date_"+unique_id).val();var experience_display_location=$("#experience_display_location_"+unique_id).val();var experience_sublocality_level_2=$("#experience_sublocality_level_2_"+unique_id).val();var experience_sublocality_level_1=$("#experience_sublocality_level_1_"+unique_id).val();var experience_locality=$("#experience_locality_"+unique_id).val();var experience_administrative_area_level_2=$("#experience_administrative_area_level_2_"+
unique_id).val();var experience_administrative_area_level_1=$("#experience_administrative_area_level_1_"+unique_id).val();var experience_country=$("#experience_country_"+unique_id).val();var experience_lat=$("#experience_lat_"+unique_id).val();var experience_lng=$("#experience_lng_"+unique_id).val();if(experience_is_on_going==1){$("#internship-job-modal #experience_on_going").prop("checked",true);$("#internship-job-modal #experience_end_date").val("Present");$("#internship-job-modal #experience_end_date").prop("disabled",
true);$("#internship-job-modal #experience_end_date").css("background","#f6f6f6")}else{$("#internship-job-modal #experience_on_going").prop("checked",false);$("#internship-job-modal #experience_end_date").val(experience_end_date);$("#internship-job-modal #experience_end_date").prop("disabled",false);$("#internship-job-modal #experience_end_date").css("background","#ffffff");$("#experience_end_date").datepicker("option","minDate",new Date(experience_start_date))}$("#experience_start_date").datepicker("option",
"maxDate",new Date(experience_end_date));if(experience_is_work_from_home==1){$("#internship-job-modal #experience_is_work_from_home").prop("checked",true);$("#internship-job-modal #experience_location").val("Work From Home");$("#experience_location").prop("disabled",true);$("#internship-job-modal #experience_location").css("background","#f6f6f6")}else{$("#internship-job-modal #experience_is_work_from_home").prop("checked",false);$("#internship-job-modal #experience_location").val(experience_display_location);
$("#experience_location").prop("disabled",false);$("#internship-job-modal #experience_location").css("background","#ffffff")}$("#internship-job-modal #experience_id").val(experience_id);$("#internship-job-modal #experience_organization").val(experience_organization);$("#internship-job-modal #experience_profile").val(experience_profile);$("#internship-job-modal #experience_location_sublocality_level_2").val(experience_sublocality_level_2);$("#internship-job-modal #experience_location_sublocality_level_1").val(experience_sublocality_level_1);
$("#internship-job-modal #experience_location_locality").val(experience_locality);$("#internship-job-modal #experience_location_administrative_area_level_2").val(experience_administrative_area_level_2);$("#internship-job-modal #experience_location_administrative_area_level_1").val(experience_administrative_area_level_1);$("#internship-job-modal #experience_location_country").val(experience_country);$("#internship-job-modal #experience_location_lat").val(experience_lat);$("#internship-job-modal #experience_location_lng").val(experience_lng);
$("#internship-job-modal #experience_is_work_from_home").val(experience_is_work_from_home);$("#internship-job-modal #experience_start_date").val(experience_start_date);$("#internship-job-modal #experience_on_going").val(experience_is_on_going);$("#internship-job-modal #experience_description").val(experience_description);$("#internship-job-submit").val("Update")}
function toggle_experiences_button_container(){var count_experiences_element=$(".prefilled-experiences-details-row").length;if(count_experiences_element){student_navigation_popover("experiences",true);$(".experiences-tabs-container .buttons_container .next-button").show();$(".experiences-tabs-container .buttons_container .skip-button").hide();$(".experiences-tabs-container h4").hide();$(".experiences-tabs-container h5").show()}else{student_navigation_popover("experiences",false);$(".experiences-tabs-container .buttons_container .next-button").hide();
$(".experiences-tabs-container .buttons_container .skip-button").show();$(".experiences-tabs-container h4").show();$(".experiences-tabs-container h5").hide()}remove_experiences_empty_div()}
function experiences_form_reset(){$("input[type=text]").val("");$("input[type=number]").val("");$("#internship-job-modal #experience_on_going").prop("checked",false);$("#internship-job-modal #experience_end_date").val("");$("#internship-job-modal #experience_end_date").prop("disabled",false);$("#internship-job-modal #experience_end_date").css("background","#ffffff");$("#internship-job-modal #experience_location").val("");$("#internship-job-modal #experience_is_work_from_home").prop("checked",false);
$("#internship-job-modal #experience_location").prop("disabled",false);$("#internship-job-modal #experience_location").css("background","#ffffff");$("#experience_description").val("");reset_profile_forms();$("#experience_end_date").datepicker("option","minDate",null);$("#experience_start_date").datepicker("option","maxDate","-1D");var validator=$("#experience-form").validate();validator.resetForm();$("#internship-job-submit").val("Save")}
function remove_experiences_empty_div(){var count_internship_element=$(".internship-container .prefilled-experiences-details-row").length;if(count_internship_element){$(".internships").show();$(".internships h4").show()}else{$(".internships").hide();$(".internships h4").hide()}var count_job_element=$(".job-container .prefilled-experiences-details-row").length;if(count_job_element){$(".jobs").show();$(".jobs h4").show()}else{$(".jobs").hide();$(".jobs h4").hide();$(".prefilled-experiences-details").css("border",
"none")}}function remove_resume_experiences_empty_div(){};$(document).ready(function(){placeElementAtBottomRelativeToFooter("#resume_score_mobile_message");toggle_skip_or_next_button_container();remove_empty_div();$("#other_experiences_location_type").change(function(){$("#other_experiences_location").removeClass("error");if($(this).is(":checked")){removeError("#other_experiences_location-error");$("#other_experiences_location").val("Online");$("#other_experiences_location").prop("disabled",true);$("#other_experiences_location").css("background","#f6f6f6")}else{$("#other_experiences_location").val("");
$("#other_experiences_location").prop("disabled",false);$("#other_experiences_location").css("background","#ffffff")}});call_autocomplete("other_experiences_organization","experience_organization");$("#other_experiences_organization").autocomplete("option","appendTo","#training-form");$("#other_experiences_organization").autocomplete({focus:function(event,ui){this.value=ui.item.label}});call_autocomplete("other_experiences_course","training");$("#other_experiences_course").autocomplete("option","appendTo",
"#training-form");$("#other_experiences_course").autocomplete({focus:function(event,ui){this.value=ui.item.label}});$(document.body).on("keypress","#other_experiences_por_description",function(){if($("#other_experiences_por_description").val().length>250)$("#por-form").validate().element("#other_experiences_por_description")});$(document.body).on("keypress","#other_experiences_training_description",function(){if($("#other_experiences_training_description").val().length>250)$("#training-form").validate().element("#other_experiences_training_description")});
$(document.body).on("keypress","#other_experiences_project_description",function(){if($("#other_experiences_project_description").val().length>250)$("#project-form").validate().element("#other_experiences_project_description")});$(document.body).on("click",".other_experiences_edit",function(){reset_other_experiences_form();var experience_type=$(this).parent().attr("experience_type");var experience_id=$(this).parent().attr("experience_id");if(experience_type=="position_of_responsibility")populate_por_form(experience_type,
experience_id);else if(experience_type=="project")populate_project_form(experience_id);else if(experience_type=="training")populate_training_form(experience_id)});$(document.body).on("change","#other_experiences_is_on_going",function(){if($(this).is(":checked")){$("#other_experiences_end_date-error").hide();$("#other_experiences_end_date").prop("disabled",true);$("#other_experiences_end_date").val("Present");$("#other_experiences_end_date").css("background","#f6f6f6")}else{$("#other_experiences_end_date").prop("disabled",
false);$("#other_experiences_end_date").val("");$("#other_experiences_end_date").css("background","#FFFFFF")}});$(document.body).on("change","#other_experiences_project_is_on_going",function(){if($(this).is(":checked")){$("#end_date_to_send-error").hide();$("#other_experiences_project_end_date").css("background","#f6f6f6");$("#other_experiences_project_end_date-error").hide();$("#other_experiences_project_end_date").prop("disabled",true);$("#other_experiences_project_end_date").val("Present");$("#end_date_to_send").val("")}else{$("#other_experiences_project_end_date").css("background",
"#FFFFFF");$("#other_experiences_project_end_date").prop("disabled",false);$("#other_experiences_project_end_date").val("");$("#other_experiences_project_end_date").removeClass("valid")}});make_field_readonly("#other_experiences_start_date");make_field_readonly("#other_experiences_end_date");$("#other_experiences_start_date").datepicker({dateFormat:"yy-mm-dd",changeMonth:true,changeYear:true,maxDate:"-1D",beforeShow:function(e,t){$(".ui-datepicker").addClass("show_calendardates");$(".ui-datepicker").removeClass("hide_calendardates")},
onSelect:function(selectedDate){if(!$("#training-form #other_experiences_is_on_going").is(":checked"))$("#other_experiences_end_date").datepicker("option","minDate",selectedDate);$(this).focusout()}}).on("change",function(){$(this).focus()});$("#other_experiences_end_date").datepicker({dateFormat:"yy-mm-dd",changeMonth:true,changeYear:true,maxDate:"+0D",beforeShow:function(e,t){$(".ui-datepicker").addClass("show_calendardates");$(".ui-datepicker").removeClass("hide_calendardates")},onSelect:function(selectedDate){$("#other_experiences_start_date").datepicker("option",
"maxDate",selectedDate);$(this).focusout()}}).on("change",function(){$(this).focus()});make_field_readonly("#other_experiences_project_start_date");make_field_readonly("#other_experiences_project_end_date");$.fn.modal.Constructor.prototype.enforceFocus=function(){};$("#other_experiences_project_start_date").datepicker({dateFormat:"yy-mm",changeMonth:true,changeYear:true,showButtonPanel:true,maxDate:"-1D",beforeShow:function(e,t){$(".ui-datepicker").addClass("hide_calendardates");$(".ui-datepicker").removeClass("show_calendardates")},
onSelect:function(selectedDate){if(!$("#project-form #other_experiences_project_is_on_going").is(":checked"));},onClose:function(dateText,inst){var month=$("#ui-datepicker-div .ui-datepicker-month :selected").val();var year=$("#ui-datepicker-div .ui-datepicker-year :selected").val();var selectedDate=new Date(year,month,1);$(this).datepicker("setDate",selectedDate);var tempStartDate=$("#other_experiences_project_end_date").val();$("#other_experiences_project_end_date").datepicker("option","minDate",
selectedDate);$("#other_experiences_project_end_date").val(tempStartDate);month=parseInt(month)+1;if(month<10)month="0"+month;var startDate=year+"-"+month+"-01";$("#start_date_to_send").val(startDate);removeError("#start_date_to_send-error");$("#start_date_to_send-error").closest("div").addClass("has-success");$("#start_date_to_send-error").closest("div").removeClass("has-error");$(this).focusout()}}).on("change",function(){$(this).focus()});$("#other_experiences_project_end_date").datepicker({dateFormat:"yy-mm",
changeMonth:true,changeYear:true,showButtonPanel:true,maxDate:"+0D",beforeShow:function(e,t){$(".ui-datepicker").addClass("hide_calendardates");$(".ui-datepicker").removeClass("show_calendardates")},onSelect:function(selectedDate){},onClose:function(dateText,inst){var month=$("#ui-datepicker-div .ui-datepicker-month :selected").val();var year=$("#ui-datepicker-div .ui-datepicker-year :selected").val();var selectedDate=new Date(year,month,1);$(this).datepicker("setDate",selectedDate);var tempEndDate=
$("#other_experiences_project_start_date").val();$("#other_experiences_project_start_date").datepicker("option","maxDate",selectedDate);$("#other_experiences_project_start_date").val(tempEndDate);month=parseInt(month)+1;if(month<10)month="0"+month;var endDate=year+"-"+month+"-01";$("#end_date_to_send").val(endDate);removeError("#end_date_to_send-error");$("#end_date_to_send-error").closest("div").addClass("has-success");$("#end_date_to_send-error").closest("div").removeClass("has-error");$(this).focusout()}}).on("change",
function(){$(this).focus()});$(document.body).on("click",".other_experiences_delete",function(){var result=confirm("Are you sure you want to delete?");if(result===true){var url="/student_other_experience/delete_student_other_experience";var experience_id=$(this).parent().attr("experience_id");var experience_type=$(this).parent().attr("experience_type");var csrfName=$("#csrf").attr("name");var csrfValue=$("#csrf").attr("value");var dataString={};dataString["id"]=experience_id;dataString["type"]=experience_type;
dataString[csrfName]=csrfValue;NProgress.start();$(".loading_image").show();var data=dataString;$.ajax(url,{type:"POST",success:other_delete_experience_success,data:data})}return false});$(document.body).on("click",".other-experiences-tabs",function(){reset_other_experiences_form()});$(document.body).on("click","#project-resume",function(){reset_other_experiences_form()});$(document.body).on("click","#training-resume",function(){reset_other_experiences_form()});$(document.body).on("click","#por-resume",
function(){reset_other_experiences_form()});$("#por-form").validate({onfocusout:function(element){this.element(element)},rules:{description:{required:true,maxlength:250}},errorPlacement:function(label,element){label.insertAfter(element)},highlight:function(label){$(label).parent().addClass("has-error");$(label).parent().removeClass("has-success");$(label).closest("input").addClass("error");$(label).closest("input").removeClass("valid")},success:function(label){$(label).parent().addClass("has-success");
$(label).parent().removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},submitHandler:function(){var data=$("#por-form").serialize();var url="/student_other_experience/add_student_other_experience";if($("#por-submit").val()=="Update")url="/student_other_experience/update_student_other_experience";NProgress.start();$(".loading_image").show();$.ajax(url,{data:data,success:other_experience_add_success,error:onError,type:"POST"});return false}});
$("#training-form").validate({onfocusout:function(element){this.element(element)},rules:{course:{required:true,maxlength:100},organization:{required:true,maxlength:100},location:{required:function(){if($("#location_type").is(":checked"))return false;else return true},valid_city:function(){is_valid_city=false;if($("#other_experiences_location_type").is(":checked")){is_valid_city=true;return true}if($("#other_experiences_location_locality").val()==""&&$("#other_experiences_location_administrative_area_level_2").val()==
"")return true;if($("#other_experiences_location_locality").val()=="Unavailable"&&$("#other_experiences_location_sublocality_level_1").val()==""&&$("#other_experiences_location_sublocality_level_2").val()==""&&$("#other_experiences_location_administrative_area_level_2").val()==""&&$("#other_experiences_location_administrative_area_level_1").val()==""&&$("#other_experiences_location_country").val()=="")return true;is_valid_city=true;return true}},start_date:{required:true},end_date:{required:function(){if($("#training-form #other_experiences_is_on_going").is(":checked"))return false;
else return true}},description:{maxlength:250}},errorPlacement:function(label,element){label.insertAfter(element)},highlight:function(label){$(label).parent().addClass("has-error");$(label).parent().removeClass("has-success");$(label).closest("input").addClass("error");$(label).closest("input").removeClass("valid")},success:function(label){$(label).parent().addClass("has-success");$(label).parent().removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},
submitHandler:function(){$("#other_experiences_location_type").val($("#other_experiences_location_type").prop("checked")?1:0);$("#training-form #other_experiences_is_on_going").val($("#training-form #other_experiences_is_on_going").prop("checked")?1:0);var data=$("#training-form").serialize();var url="";url="/student_other_experience/add_student_other_experience";if($("#training-submit").val()=="Update")url="/student_other_experience/update_student_other_experience";NProgress.start();$(".loading_image").show();
$.ajax(url,{data:data,success:other_experience_add_success,error:onError,type:"POST"});return false}});$("#project-form").validate({ignore:"",onfocusout:function(element){this.element(element)},rules:{title:{required:true,maxlength:100},start_date:{required:true},end_date:{required:function(){if($("#other_experiences_project_is_on_going").is(":checked"))return false;else return true}},description:{maxlength:250},project_link:{url:true,maxlength:100}},errorPlacement:function(label,element){label.insertAfter(element)},
highlight:function(label){$(label).parent().addClass("has-error");$(label).parent().removeClass("has-success");$(label).closest("input").addClass("error");$(label).closest("input").removeClass("valid")},success:function(label){$(label).parent().addClass("has-success");$(label).parent().removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},submitHandler:function(){$("#other_experiences_project_is_on_going").val($("#other_experiences_project_is_on_going").prop("checked")?
1:0);var data=$("#project-form").serialize();var url="";url="/student_other_experience/add_student_other_experience";if($("#project-submit").val()=="Update")url="/student_other_experience/update_student_other_experience";NProgress.start();$(".loading_image").show();$.ajax(url,{data:data,success:other_experience_add_success,error:onError,type:"POST"});return false}})});
var other_experience_add_success=function(data){try{NProgress.done();data=JSON.parse(data);if(data.success){if(data.type=="position_of_responsibility")$(".position-of-responsibility-container").html(data.htmlResponse);else if(data.type=="training")$(".training-container").html(data.htmlResponse);else if(data.type=="project")$(".project-container").html(data.htmlResponse);$(".other-experiences-form-modal").modal("hide");if(data.source=="add")success_notification("Successfully Added");else success_notification("Successfully Updated");
reset_other_experiences_form();remove_empty_div();set_student_resume_score_in_view(data.student_resume_score);$("#scoreValueMobile span").text(data.student_resume_score)}else{if(data.errorThrown.validationError){var form_id="";if(data.type=="project")form_id="#project-form";else if(data.type=="position_of_responsibility")form_id="#por-form";else if(data.type=="training")form_id="#training-form";throw_validation_error(data.errorThrown.validationError,form_id);return}failure_notification(data.errorThrown)}}catch(e){throw_error(e);
NProgress.done();$(".loading_image").hide()}toggle_skip_or_next_button_container()};
var other_delete_experience_success=function(data){try{NProgress.done();data=JSON.parse(data);if(data.success===true){var id=data.id;$("#"+data.type+"_container_"+id).remove();success_notification("Successfully Deleted");remove_empty_div();set_student_resume_score_in_view(data.student_resume_score);$("#scoreValueMobile span").text(data.student_resume_score)}else failure_notification(data.errorThrown)}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}toggle_skip_or_next_button_container()};
function other_experiences_initMap(){locationInputValidationOnFocusChangeListener("other_experiences_location","training-form","(regions)")}
function toggle_skip_or_next_button_container(){var other_experiences_element_count=$(".prefilled-other-experiences-details-row").length;if(other_experiences_element_count){student_navigation_popover("experiences",true);$(".other-experiences-tabs-container .buttons_container .next-button").show();$(".other-experiences-tabs-container .buttons_container .skip-button").hide();$(".prefilled-other-experiences-details-container h4").show();$(".other-experiences-tabs-container h4").hide();$(".other-experiences-tabs-container h5").show()}else{student_navigation_popover("experiences",
false);$(".other-experiences-tabs-container .buttons_container .next-button").hide();$(".other-experiences-tabs-container .buttons_container .skip-button").show();$(".prefilled-other-experiences-details-container h4").hide();$(".other-experiences-tabs-container h4").show();$(".other-experiences-tabs-container h5").hide()}}
function populate_por_form(experience_type,experience_id){var rawHtml=$("#"+experience_type+"_description_"+experience_id).html();$("#por-form #other_experiences_por_description").val(br2nl(rawHtml.trim()));$("#por-form #position-of-responsibility-id").val(experience_id);$("#por-submit").val("Update")}
function populate_project_form(experience_id){var project_title=$("#project_title_"+experience_id).val();var project_link=$("#project_project_link_"+experience_id).val();var project_description=$("#project_description_"+experience_id).val();var project_is_on_going=$("#project_is_on_going_"+experience_id).val();var project_start_date=$("#project_start_date_"+experience_id).val();var project_end_date=$("#project_end_date_"+experience_id).val();if(project_is_on_going==1){$("#project-modal #other_experiences_project_is_on_going").prop("checked",
true);$("#project-modal #other_experiences_project_end_date").val("Present");$("#project-modal #other_experiences_project_end_date").prop("disabled",true);$("#project-modal #other_experiences_project_end_date").css("background","#f6f6f6")}else{$("#project-modal #other_experiences_project_is_on_going").prop("checked",false);$("#project-modal #other_experiences_project_end_date").val(project_end_date);$("#project-modal #end_date_to_send").val(project_end_date+"-01");$("#project-modal #other_experiences_project_end_date").prop("disabled",
false);$("#project-modal #other_experiences_project_end_date").css("background","#ffffff")}$("#project-modal #project_id").val(experience_id);$("#project-modal #other_experiences_title").val(project_title);$("#project-modal #other_experiences_project_start_date").val(project_start_date);$("#project-modal #start_date_to_send").val(project_start_date+"-01");$("#project-modal #other_experiences_project_description").val(project_description);$("#project-modal #other_experiences_project_link").val(project_link);
$("#project-submit").val("Update")}
function populate_training_form(experience_id){var training_title=$("#training_training_"+experience_id).val();var training_organization=$("#training_experience_organization_"+experience_id).val();var training_is_work_from_home=$("#training_is_work_from_home_"+experience_id).val();var training_description=$("#training_description_"+experience_id).val();var training_is_on_going=$("#training_is_on_going_"+experience_id).val();var training_start_date=$("#training_start_date_"+experience_id).val();var training_end_date=
$("#training_end_date_"+experience_id).val();var training_display_location=$("#training_display_location_"+experience_id).val();var training_sublocality_level_2=$("#training_sublocality_level_2_"+experience_id).val();var training_sublocality_level_1=$("#training_sublocality_level_1_"+experience_id).val();var training_locality=$("#training_locality_"+experience_id).val();var training_administrative_area_level_2=$("#training_administrative_area_level_2_"+experience_id).val();var training_administrative_area_level_1=
$("#training_administrative_area_level_1_"+experience_id).val();var training_country=$("#training_country_"+experience_id).val();var training_lat=$("#training_lat_"+experience_id).val();var training_lng=$("#training_lng_"+experience_id).val();if(training_is_on_going==1){$("#training-modal #other_experiences_is_on_going").prop("checked",true);$("#training-modal #other_experiences_end_date").val("Present");$("#training-modal #other_experiences_end_date").prop("disabled",true);$("#training-modal #other_experiences_end_date").css("background",
"#f6f6f6")}else{$("#training-modal #other_experiences_is_on_going").prop("checked",false);$("#training-modal #other_experiences_end_date").val(training_end_date);$("#training-modal #other_experiences_end_date").prop("disabled",false);$("#training-modal #other_experiences_end_date").css("background","#ffffff")}if(training_is_work_from_home==1){$("#training-modal #other_experiences_location_type").prop("checked",true);$("#training-modal #other_experiences_location").val("Online");$("#other_experiences_location").prop("disabled",
true)}else{$("#training-modal #other_experiences_location_type").prop("checked",false);$("#training-modal #other_experiences_location").val(training_display_location);$("#other_experiences_location").prop("disabled",false)}$("#training-modal #training_id").val(experience_id);$("#training-modal #other_experiences_organization").val(training_organization);$("#training-modal #other_experiences_course").val(training_title);$("#training-modal #other_experiences_location_sublocality_level_2").val(training_sublocality_level_2);
$("#training-modal #other_experiences_location_sublocality_level_1").val(training_sublocality_level_1);$("#training-modal #other_experiences_location_locality").val(training_locality);$("#training-modal #other_experiences_location_administrative_area_level_2").val(training_administrative_area_level_2);$("#training-modal #other_experiences_location_administrative_area_level_1").val(training_administrative_area_level_1);$("#training-modal #other_experiences_location_country").val(training_country);
$("#training-modal #other_experiences_location_lat").val(training_lat);$("#training-modal #other_experiences_location_lng").val(training_lng);$("#training-modal #other_experiences_start_date").val(training_start_date);$("#training-modal #other_experiences_training_description").val(training_description);$("#training-submit").val("Update")}
function remove_empty_div(){var por_element_count=$(".position_of_responsibility .prefilled-other-experiences-details-row").length;if(por_element_count)$(".position_of_responsibility").show();else $(".position_of_responsibility").hide();var training_element_count=$(".training .prefilled-other-experiences-details-row").length;if(training_element_count)$(".training").show();else $(".training").hide();var project_element_count=$(".project .prefilled-other-experiences-details-row").length;if(project_element_count){$(".training").css("border-bottom",
"1px solid #e6e6e6");$(".project").show()}else{$(".training").css("border","none");$(".project").hide()}$(".project").css("border","none");if(!training_element_count&&!project_element_count)$(".position_of_responsibility").css("border","none");else $(".position_of_responsibility").css("border-bottom","1px solid #e6e6e6")}
function remove_resume_empty_div(){var resume_por_element_count=$(".resume-position-of-responsibility .detail-row").length;if(resume_por_element_count)$(".resume-position-of-responsibility").show();else $(".resume-position-of-responsibility").hide();var resume_training_element_count=$(".resume-training .detail-row").length;if(resume_training_element_count)$(".resume-training").show();else $(".resume-training").hide();var resume_project_element_count=$(".resume-project .detail-row").length;if(resume_project_element_count)$(".resume-project").show();
else $(".resume-project").hide()}
function reset_other_experiences_form(){$("input[type=text]").val("");$("input[type=number]").val("");$("#training-form #other_experiences_is_on_going").prop("checked",false);$("#project-form #other_experiences_project_is_on_going").prop("checked",false);$("#other_experiences_end_date").val("");$("#other_experiences_end_date").prop("disabled",false);$("#other_experiences_end_date").css("background","#ffffff");$("#other_experiences_end_date").datepicker("option","minDate",null);$("#other_experiences_start_date").datepicker("option",
"maxDate","-1D");$("#other_experiences_project_end_date").val("");$("#other_experiences_project_end_date").prop("disabled",false);$("#other_experiences_project_end_date").css("background","#ffffff");$("#other_experiences_project_end_date").datepicker("option","minDate",null);$("#other_experiences_project_start_date").datepicker("option","maxDate","-1D");$("#start_date_to_send").val("");$("#end_date_to_send").val("");$("#other_experiences_location").val("");$("#other_experiences_location_type").prop("checked",
false);$("#other_experiences_location").prop("disabled",false);$("#other_experiences_training_description").val("");$("#other_experiences_project_description").val("");$("#other_experiences_por_description").val("");reset_profile_forms();var porValidator=$("#por-form").validate();$("#por-submit").val("Save");porValidator.resetForm();var trainingValidator=$("#training-form").validate();$("#training-submit").val("Save");trainingValidator.resetForm();var projectValidator=$("#project-form").validate();
$("#project-submit").val("Save");projectValidator.resetForm()};$(document).ready(function(){placeElementAtBottomRelativeToFooter("#resume_score_mobile_message");toggle_additional_details_next_skip_buttons();$("#edit_form_container").hide();$(".additional_edit_cancel").hide();reset_additional_details_form();$("#additional-detail-submit").hide();$(document.body).on("click",".additional_edit",function(){reset_additional_details_form();var additional_detail_id=$(this).parent().attr("additional_detail_id");var rawDescription=$("#additional_detail_"+additional_detail_id+
"_description").html();var description_data=br2nl(rawDescription.trim());$("#additional-detail-submit").show();$("#additional-detail-submit").val("Update");if($("#resume_max_width_container")[0]){$("#additional_detail_description").val(description_data);$("#additional_detail_id").val(additional_detail_id);$(".additional_edit").attr("data-toggle","modal");$(".additional_edit").attr("data-target","#additional-modal");$(".additional_edit").attr("id","additional-form-modal");$("#additional-detail-submit").show()}else{if($("#additional-form-container").css("display")!=
"none"){var previous_additional_detail_id=$("#additional_detail_id").val();$(".prefilled-additional-details-right-cell").show();$("#additional-form-container").hide();$(".additional_edit_cancel").attr("id",additional_detail_id)}$("#additional_detail_"+additional_detail_id).after($("#additional-form-container"));$("#additional_detail_id").val(additional_detail_id);$("#additional_detail_description").val(description_data);$("#additional-form-container").show();$(".additional_edit_cancel").show();$(this).parent().hide()}});
$(document.body).on("keyup","#additional_detail_description",function(){if($("#additional_detail_description").val().length==0){if($("#additional-detail-submit").val()=="Save"&&!$("#resume_max_width_container")[0])$("#additional-detail-submit").hide();$("#additional_detail_description").val("");$("#additional_detail_description-error").hide();reset_profile_forms()}else{$("#additional-detail-submit").show();if($("#additional_detail_description").val().length>250)$("#additional_details").validate().element("#additional_detail_description")}});
$(document.body).on("click",".additional_edit_cancel",function(){additional_edit_cancel()});$("#additional-form-modal").click(function(){$("#additional-detail-submit").show();reset_additional_details_form()});$(document.body).on("click",".additional_delete",function(){var result=confirm("Are you sure you want to delete?");if(result===true){var url="/student/additional_details_delete";var additional_detail_id=$(this).parent().attr("additional_detail_id");var csrfName=$("#csrf").attr("name");var csrfValue=
$("#csrf").attr("value");var dataString={};dataString["id"]=additional_detail_id;dataString[csrfName]=csrfValue;NProgress.start();$(".loading_image").show();var data=dataString;$.ajax(url,{type:"POST",success:additional_detail_delete_success,data:data})}return false});$("#additional_details").submit(function(e){e.preventDefault()}).validate({rules:{description:{required:true,maxlength:250}},errorPlacement:function(label,element){label.insertAfter(element)},highlight:function(label){$(label).closest(".form-group").addClass("has-error");
$(label).closest(".form-group").removeClass("has-success");$(label).closest("input").addClass("error");$(label).closest("input").removeClass("valid")},success:function(label){$(label).closest(".form-group").addClass("has-success");$(label).closest(".form-group").removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},submitHandler:function(){var data=$("#additional_details").serialize();var url="/student/additional_details_submit";if($("#additional-detail-submit").val()==
"Update")url="/student/additional_details_update";NProgress.start();$(".loading_image").show();$.ajax(url,{data:data,success:additional_detail_update_success,error:onError,type:"POST"});return false}})});
function toggle_additional_details_next_skip_buttons(){var additional_details_element_count=$("#additional-details-container .user-additional-detail").length;if(additional_details_element_count){student_navigation_popover("additional_details",true);$(".resume-additional-detail .additional-detail-example").hide();$("#additional-details-container .next").show();$("#additional-details-container .skip").hide()}else{student_navigation_popover("additional_details",false);if(!$("#resume_max_width_container")[0]);
$("#additional-details-container .next").hide();$("#additional-details-container .skip").show()}if(!$("#resume_max_width_container")[0])$(".additional-detail-example").show()}
function additional_edit_cancel(){if($("#additional-details-container").length==1){$(".additional_edit_cancel").hide();$("#additional-details-container .prefilled-additional-details-container").after($("#additional-form-container"));$("#additional-form-container #additional_detail_description").val("");$("#additional-form-container #additional-detail-submit").val("Save");$("#additional-form-container").show();reset_additional_details_form()}$("#additional-details-container .prefilled-additional-details-right-cell").show()}
var additional_detail_update_success=function(data){try{NProgress.done();data=JSON.parse(data);if(!data.success)if(data.errorThrown.validationError){throw_validation_error(data.errorThrown.validationError,"#additional_details");$("#additional_detail_description-error").prev("textarea").addClass("error");$("#additional_detail_description-error").prev("textarea").removeClass("valid")}else failure_notification(data.errorThrown);else{$("#additional-modal").modal("hide");if(data.source=="add"){$(".prefilled-additional-details").html(data.htmlResponse);
success_notification("Successfully Added");$("#additional_detail_description").val("")}else{$("#additional_detail_"+data.id+"_description").html(nl2br(data.description));success_notification("Successfully Updated");additional_edit_cancel()}reset_additional_details_form();set_student_resume_score_in_view(data.student_resume_score);$("#scoreValueMobile span").text(data.student_resume_score)}}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}};
var additional_detail_delete_success=function(data){try{NProgress.done();data=JSON.parse(data);if(data.success===true){$("#additional_detail_"+data.id).remove();success_notification("Successfully Deleted");set_student_resume_score_in_view(data.student_resume_score);$("#scoreValueMobile span").text(data.student_resume_score)}else failure_notification(data.errorThrown)}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}reset_additional_details_form()};
var reset_additional_details_form=function(){toggle_additional_details_next_skip_buttons();$("#additional_detail_description").val("");reset_profile_forms();$("#additional_detail_description-error").hide();$("#additional-form-container").show();$("#additional-detail-submit").val("Save");if(!$("#resume_max_width_container")[0])$("#additional-detail-submit").hide()};
function remove_additional_detail_empty_div(){var count_resume_additional_detail_element=$(".resume-additional-detail .detail-row span").length;if(count_resume_additional_detail_element)$(".resume-additional-detail").show();else $(".resume-additional-detail").hide()};var skill_container;var selected_skill;
$(document).ready(function(){placeElementAtBottomRelativeToFooter("#resume_score_mobile_message");$(".add-skills-rating-container").hide();$(".rating-value").attr("readonly","true");$(".skills_edit_cancel").hide();reset_skills_form();call_autocomplete("skill","skill");$("#skill").autocomplete({focus:function(event,ui){var val=ui.item.label;if(val!=="No match found")this.value=val;else this.value=""},select:function(event,ui){if($.inArray(ui.item.value,prefilled_skills_name)==-1)if(ui.item.value!=
"No match found"){$(".add-skills-rating-container").show();$("#add_to_resume").prop("checked",true);$(".add-skills-rating-container #rating_question").html("How would you rate yourself at "+ui.item.value+" ?");selected_skill=$("#skill").val()}else{ui.item.value="";$("#skill").val("");failure_notification("Invalid skill; Please choose a skill from the dropdown");$(".add-skills-rating-container").hide()}else{ui.item.value="";$("#skill").val("");failure_notification("This skill is already added in your profile");
$(".add-skills-rating-container").hide()}}});$("#skill-form-modal").click(function(){$("#skill-form").after($(".add-skills-rating-container"));reset_resume_skills_form()});$("#skill-modal").on("shown.bs.modal",function(){$("#skill").focus()});$("#skill").keyup(function(){if($("#skill").val()==""||$("#skill").val()!=selected_skill)$(".add-skills-rating-container").hide()});$(document.body).on("click",".rating-value",function(){this.blur();if(student_profile_view=="skills"){var application_page_path=
"/application/form/";var add_skill_from;var add_to_resume;if(window.location.pathname.indexOf(application_page_path)==-1){add_skill_from="student_profile_form";add_to_resume="yes"}else{add_skill_from="application_form";add_to_resume=$("#add_to_resume").is(":checked")?"yes":"no"}if($(this).closest(".add-skills-rating-container").find("#skill_mode").val()=="add"){var skill_name=$("#skill").val();var skill_level=$(this).val();if(skill_name&&skill_level){NProgress.start();$(".loading_image").show();var csrfName=
$("#csrf").attr("name");var csrfValue=$("#csrf").attr("value");var dataString={};dataString["skill_name"]=skill_name;dataString["skill_level"]=skill_level;dataString["add_skill_from"]=add_skill_from;dataString["add_to_resume"]=add_to_resume;dataString[csrfName]=csrfValue;var url="/student/skills_submit";$.ajax(url,{type:"POST",success:skill_submit_success,data:dataString})}}else{var student_skill_id=$(this).closest(".add-skills-rating-container").prev().attr("student_skill_id");var skill_level=$(this).val();
NProgress.start();$(".loading_image").show();var data={"student_skill_id":student_skill_id,"skill_level":skill_level,"add_to_resume":add_to_resume};var csrfName=$("#csrf").attr("name");var csrfValue=$("#csrf").attr("value");var dataString={};dataString["student_skill_id"]=student_skill_id;dataString["skill_level"]=skill_level;dataString["add_to_resume"]=add_to_resume;dataString[csrfName]=csrfValue;var url="/student/skills_update";$.ajax(url,{type:"POST",success:skill_submit_success,data:dataString})}}else if($(".add-skills-rating-container #skill_action").val()==
"add"){var skill_name=$("#skill").val();var skill_level=$(this).val();if(skill_name&&skill_level){NProgress.start();$(".loading_image").show();var csrfName=$("#csrf").attr("name");var csrfValue=$("#csrf").attr("value");var dataString={};dataString["skill_name"]=skill_name;dataString["add_skill_from"]="student_profile_form";dataString["skill_level"]=skill_level;dataString["add_to_resume"]="yes";dataString[csrfName]=csrfValue;var url="/student/skills_submit";$.ajax(url,{type:"POST",success:skill_submit_success,
data:dataString})}}else if($(".add-skills-rating-container #skill_action").val()=="update"){var student_skill_id=$(".add-skills-rating-container #skill_id").val();var skill_level=$(this).val();NProgress.start();$(".loading_image").show();var data={"student_skill_id":student_skill_id,"skill_level":skill_level,"add_to_resume":"yes"};var csrfName=$("#csrf").attr("name");var csrfValue=$("#csrf").attr("value");var dataString={};dataString["student_skill_id"]=student_skill_id;dataString["skill_level"]=
skill_level;dataString["add_to_resume"]="yes";dataString[csrfName]=csrfValue;var url="/student/skills_update";$.ajax(url,{type:"POST",success:skill_submit_success,data:dataString})}});$(document.body).on("click",".skills_edit",function(){if(student_profile_view=="skills"){$(".prefilled-skills-details-right-cell ").show();$(this).parent().parent().hide();var student_skill_id=$(this).closest(".prefilled-skills-details-row").attr("student_skill_id");$(".skills_edit_cancel").show();var skill_name=$("#student_skill_"+
student_skill_id+" #student_skill_name").val();var skill_to_show_in_resume=$("#student_skill_"+student_skill_id+" #student_skill_to_show_in_resume").val();$(".add-skills-rating-container #rating_question").html("How would you rate yourself at "+skill_name+" ?");$("#skill_mode").val("edit");$("#add_to_resume").prop("checked",skill_to_show_in_resume=="1"?true:false);if($(".add-skills-rating-container").css("display")!="none"){var previous_student_skill_id=$(".add-skills-rating-container").prev().find("input[name='student_skill_id']").val();
if(student_skill_id!=previous_student_skill_id)$(".add-skills-rating-container").slideUp("slow",function(){$("#skill").val("");$("#skill").hide();$("#student_skill_"+student_skill_id).after($(".add-skills-rating-container"));$(".add-skills-rating-container").slideDown("slow",function(){})})}else{$("#skill").val("");$("#skill").hide();$("#student_skill_"+student_skill_id).after($(".add-skills-rating-container"));$(".add-skills-rating-container").slideDown("slow",function(){})}}else{$(".skills_edit").attr("data-toggle",
"modal");$(".skills_edit").attr("data-target","#skill-modal");$(".skills_edit").attr("id","skill-form-modal");var skill_id=$(this).closest(".detail-row").attr("student_skill_id");var skill_name=$("#student_skill_"+skill_id+" #student_skill_name").val();var skill_level=$("#student_skill_"+skill_id+" #student_skill_level").val();$("#skill-modal #skill").val(skill_name);$("#skill-modal #skill").attr("readonly",true);$("#skill-modal #skill").attr("disabled",true);$(".add-skills-rating-container #rating_question").html("How would you rate yourself at "+
skill_name+" ?");$(".add-skills-rating-container").show();$(".add-skills-rating-container #skill_id").val(skill_id);$(".add-skills-rating-container #skill_name").val(skill_name);$(".add-skills-rating-container #skill_action").val("update")}});$(document.body).on("click",".skills_delete",function(){var student_skill_id=$(this).closest(".prefilled-skills-details-row").attr("student_skill_id");var skill_name=$(this).closest(".prefilled-skills-details-row").find("input[name='student_skill_name']").val();
var index=prefilled_skills_name.indexOf(skill_name);prefilled_skills_name.splice(index,1);NProgress.start();if(student_profile_view=="skills"){skills_edit_cancel();var application_page_path="/application/form/";var delete_skill_from;if(window.location.pathname.indexOf(application_page_path)==-1)delete_skill_from="student_profile_form";else delete_skill_from="application_form";var csrfName=$("#csrf").attr("name");var csrfValue=$("#csrf").attr("value");var dataString={};dataString["student_skill_id"]=
student_skill_id;dataString["delete_skill_from"]=delete_skill_from;dataString[csrfName]=csrfValue;var url="/student/is_student_skill_used"}else{var csrfName=$("#csrf").attr("name");var csrfValue=$("#csrf").attr("value");var dataString={};dataString["student_skill_id"]=student_skill_id;dataString[csrfName]=csrfValue;var url="/student/is_student_skill_used"}$.ajax(url,{type:"POST",success:is_student_skill_used_success,data:dataString});return false});$(document.body).on("click",".skills_add",function(){$(".prefilled-skills-details-right-cell ").show();
$(this).parent().parent().hide();$(".skills_edit_cancel").show();skill_container=$(this).parent().parent().parent();var skill_name=skill_container.children("#student_skill_name").val();$("#add_to_resume").prop("checked",true);$(".add-skills-rating-container #rating_question").html("How would you rate yourself at "+skill_name+" ?");$("#skill_mode").val("add");$(".add-skills-rating-container").slideUp("slow",function(){$("#skill").val(skill_name);$("#skill").hide();skill_container.after($(".add-skills-rating-container"));
$(".add-skills-rating-container").slideDown("slow",function(){})})});$(document.body).on("click",".skills_edit_cancel",function(){skills_edit_cancel()});$(document.body).on("click","#confirm_skill_delete_form_cancel",function(){$(".loading_image").hide();$("#confirm-skill-delete-modal").modal("hide");reset_resume_skills_form()});$(document.body).on("click","#confirm_skill_delete_form_submit",function(){$("#confirm-skill-delete-modal").modal("hide");var student_skill_id=$("#confirm-skill-delete-modal #student_skill_id").val();
var delete_from_application=$("#delete_from_application").is(":checked")?"yes":"no";NProgress.start();$(".loading_image").show();if(student_profile_view=="skills"){var application_page_path="/application/form/";var delete_skill_from;if(window.location.pathname.indexOf(application_page_path)==-1)delete_skill_from="student_profile_form";else delete_skill_from="application_form";var csrfName=$("#csrf").attr("name");var csrfValue=$("#csrf").attr("value");var dataString={};dataString["student_skill_id"]=
student_skill_id;dataString["delete_from_application"]=delete_from_application;dataString["delete_skill_from"]=delete_skill_from;dataString[csrfName]=csrfValue;var url="/student/skills_delete"}else{var csrfName=$("#csrf").attr("name");var csrfValue=$("#csrf").attr("value");var dataString={};dataString["student_skill_id"]=student_skill_id;dataString["delete_from_application"]=delete_from_application;dataString[csrfName]=csrfValue;var url="/student/skills_delete"}$.ajax(url,{type:"POST",success:skill_delete_success,
data:dataString});return false})});
var skill_submit_success=function(data){try{NProgress.done();data=JSON.parse(data);if(!data.success)failure_notification(data.errorThrown);else{set_student_resume_score_in_view(data.student_resume_score);$("#scoreValueMobile span").text(data.student_resume_score);if(student_profile_view=="skills")if(data.source=="add"){if(data.add_skill_from=="application_form"){var student_skill_id=data.student_skill_id;skill_container.attr("id","student_skill_"+student_skill_id);skill_container.attr("student_skill_id",
student_skill_id);$("#student_skill_"+data.student_skill_id+" .skills_edit").show();$("#student_skill_"+data.student_skill_id+" .skills_delete").show();$("#student_skill_"+data.student_skill_id+" .skills_add").hide();$("#student_skill_"+data.student_skill_id+" .prefilled-skills-details-left-cell #skill-level").text(data.skill_level);$("#student_skill_"+data.student_skill_id+" #student_skill_id").val(data.student_skill_id);$("#student_skill_"+data.student_skill_id+" #student_skill_level").val(data.skill_level);
$("#student_skill_"+data.student_skill_id+" #student_skill_to_show_in_resume").val(data.to_show_in_resume);skills_edit_cancel()}else{$(".prefilled-skills-details-container").show();$(".prefilled-skills-details").html(data.htmlResponse);$("#skill-modal").modal("hide")}success_notification("Successfully Added");reset_skills_form()}else{$("#student_skill_"+data.id+" .prefilled-skills-details-left-cell #skill-level").text(data.skill_level);$("#student_skill_"+data.id+" #student_skill_level").val(data.skill_level);
$("#student_skill_"+data.id+" #student_skill_to_show_in_resume").val(data.to_show_in_resume);success_notification("Successfully Updated");skills_edit_cancel()}else{$("#skill-modal").modal("hide");if(data.source=="add"){$(".resume-skill").show();$(".skills-container").html(data.htmlResponse);success_notification("Successfully Added")}else{$("#student_skill_"+data.id+" .prefilled-skills-details-left-cell #skill-level").text(data.skill_level);success_notification("Successfully Updated")}$("#skill").val("");
$(".add-skills-rating-container").hide()}}$("#skill").val("");$(".add-skills-rating-container").hide()}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}};
var is_student_skill_used_success=function(data){try{NProgress.done();data=JSON.parse(data);if(data.success===true){$("#confirm-skill-delete-modal #student_skill_id").val(data.id);if(data.is_student_skill_used){$("#confirm-skill-delete-modal #delete-from-application-container").show();$("#delete_from_application").prop("checked",false)}else{$("#confirm-skill-delete-modal #delete-from-application-container").hide();$("#delete_from_application").prop("checked",true)}if(data.delete_skill_from=="application_form"){$("#confirm-skill-delete-modal #delete-from-application-container").hide();
$("#delete_from_application").prop("checked",true)}$("#confirm-skill-delete-modal").modal("show")}else failure_notification(data.errorThrown)}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}};
var skill_delete_success=function(data){try{NProgress.done();data=JSON.parse(data);if(data.success===true){set_student_resume_score_in_view(data.student_resume_score);$("#scoreValueMobile span").text(data.student_resume_score);if(student_profile_view=="skills")if(data.delete_skill_from=="application_form"){$("#student_skill_"+data.id).attr("student_skill_id","");$("#student_skill_"+data.id+" .skills_edit").hide();$("#student_skill_"+data.id+" .skills_delete").hide();$("#student_skill_"+data.id+" .skills_add").show();
$("#student_skill_"+data.id+" .prefilled-skills-details-left-cell #skill-level").text("");$("#student_skill_"+data.id).attr("id","student_skill_")}else $("#student_skill_"+data.id).remove();else $("#student_skill_"+data.id).remove();success_notification("Successfully Deleted")}else failure_notification(data.errorThrown)}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}reset_skills_form();reset_resume_skills_form()};
function skills_edit_cancel(){$("#skill_mode").val("add");if($(".add-skills-rating-container").closest("#skills-container")!=0){$("#skill").show();$(".add-skills-rating-container").slideUp("slow",function(){$(".prefilled-skills-details-right-cell").show();$(".add-skills-container #skill-form").after($(".add-skills-rating-container"));$(".skills_edit_cancel").hide()});reset_skills_form()}else $(".rating-container").hide()}
function reset_skills_form(){$("#skill_mode").val("add");var skill_count=$(".prefilled-skills-details-row").length;if(!skill_count){student_navigation_popover("skills",false);$(".prefilled-skills-details-container").hide();$("#skill").attr("placeholder","Ex: Adobe Photoshop");$("#skills-container .next").hide();$("#skills-container .skip").show()}else{student_navigation_popover("skills",true);$(".prefilled-skills-details-container").show();$("#skill").attr("placeholder","Add more here ... ");$("#skills-container .next").show();
$("#skills-container .skip").hide()}$("#skill").focus()}
function reset_resume_skills_form(){$("#skill-modal #skill").val("");$("#skill-modal #skill").attr("readonly",false);$("#skill-modal #skill").attr("disabled",false);$(".add-skills-rating-container #rating_question").html("");$(".add-skills-rating-container #skill_id").val("");$(".add-skills-rating-container #skill_name").val("");$(".add-skills-rating-container #skill_action").val("add");$("#skill-modal #skill").attr("placeholder","Ex: Adobe Photoshop");$(".add-skills-rating-container").hide();$("#skill").focus()}
function clear_resume_skill_empty_div(){var resume_skill_element_count=$(".resume-skill .detail-row").length;if(resume_skill_element_count)$(".resume-skill").show();else $(".resume-skill").hide()};$(document).ready(function(){placeElementAtBottomRelativeToFooter("#resume_score_mobile_message");$("#work-modal").click(function(){$("#work_samples-submit").val("Save")});remove_work_sample_empty_div();$(document.body).on("click",".work-sample-delete",function(){var result=confirm("Are you sure you want to delete?");if(result===true){var csrfName=$("#csrf").attr("name");var csrfValue=$("#csrf").attr("value");var student_work_sample_id=$(this).attr("work-sample-id");var url="/student/work_sample_delete";
var dataString={};dataString["work_sample_id"]=student_work_sample_id;dataString[csrfName]=csrfValue;NProgress.start();$(".loading_image").show();$.ajax(url,{data:dataString,success:update_success,error:onError,type:"POST"})}});$(document.body).on("click","#work-modal",function(){$("#work_samples #blog_link").val($("#work_sample_resume_blog").val());$("#work_samples #github_profile").val($("#work_sample_resume_github").val());$("#work_samples #developer_account_link").val($("#work_sample_resume_developer_account").val());
$("#work_samples #behance_portfolio_link").val($("#work_sample_resume_behance").val());$("#work_samples #other_portfolio_link").val($("#work_sample_resume_portfolio").val())});$(document.body).on("click",".work-sample-edit",function(){var link=$(this).attr("link");var sample_type=$(this).attr("sample_type");var work_sample_id=$(this).attr("work-sample-id");var sample_label="";if(sample_type=="blog")sample_label="Blog Link:";else if(sample_type=="developer_account")sample_label="Developer Account Link:";
else if(sample_type=="github")sample_label="GitHub Profile:";else if(sample_type=="behance")sample_label="Behance Portfolio Link:";else if(sample_type=="portfolio")sample_label="Other Portfolio Link:";$("#sample_label").html(sample_label);$("#work_sample #link").val(link);$("#work_sample #sample_type").val(sample_type);$("#work_sample_id").val(work_sample_id)});$("#work_samples").submit(function(e){e.preventDefault()}).validate({onfocusout:function(element){this.element(element)},rules:{blog:{url:true,
maxlength:100},github:{url:true,profile_url:"github",maxlength:100},developer_account:{url:true,profile_url:"developer_account",maxlength:100},behance:{url:true,profile_url:"behance",maxlength:100},portfolio:{url:true,maxlength:100}},errorPlacement:function(label,element){label.insertAfter(element)},highlight:function(label){$(label).closest(".form-group").addClass("has-error");$(label).closest(".form-group").removeClass("has-success");$(label).closest("input").addClass("error");$(label).closest("input").removeClass("valid")},
success:function(label){$(label).closest(".form-group").addClass("has-success");$(label).closest(".form-group").removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},submitHandler:function(){var data="";if($("#work_samples").closest(".modal-dialog").length)data=$("#work_samples").serialize()+"&referer=resume";else data=$("#work_samples").serialize();var url="";url="/student/work_samples_update";NProgress.start();$(".loading_image").show();
$.ajax(url,{data:data,success:update_success,error:onError,type:"POST"});return false}});$("#work_sample").submit(function(e){e.preventDefault()}).validate({onfocusout:function(element){this.element(element)},rules:{link:{url:true,profile_url:function(){return $("#sample_type").val()},maxlength:100},sample_type:{required:true}},errorPlacement:function(label,element){label.insertAfter(element)},highlight:function(label){$(label).closest(".form-group").addClass("has-error");$(label).closest(".form-group").removeClass("has-success");
$(label).closest("input").addClass("error");$(label).closest("input").removeClass("valid")},success:function(label){$(label).closest(".form-group").addClass("has-success");$(label).closest(".form-group").removeClass("has-error");$(label).closest("input").addClass("valid");$(label).closest("input").removeClass("error")},submitHandler:function(){var data=$("#work_sample").serialize();var url="/student/work_sample_update";NProgress.start();$(".loading_image").show();$.ajax(url,{data:data,success:update_success,
error:onError,type:"POST"});return false}})});
var update_success=function(data){try{NProgress.done();data=JSON.parse(data);if(!data.success)throw_error(data.errorThrown);else{set_student_resume_score_in_view(data.student_resume_score);$("#scoreValueMobile span").text(data.student_resume_score);if(data.referer=="resume"){$(".work-samples-form-modal").modal("hide");$(".work-sample-container").html(data.htmlResponse);if(data.mode=="update")success_notification("Successfully Updated");else if(data.mode=="delete")success_notification("Successfully Deleted");
else success_notification("Successfully Added")}else window.location="/student/additional_details";remove_work_sample_empty_div()}}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}};function remove_work_sample_empty_div(){};$(document).ready(function(){$(".education_incomplete").click(function(e){e.preventDefault();$.ajax("/student/is_education_detail_filled",{success:is_education_detail_filled_success,error:onError,type:"POST"})});updateStudentNavigationTabs("resume");$("#work-samples-submit").val("Save");$(".skill-previous-button").hide();$(".additional-detail-example").hide();$(document.body).on("click","#add-tab",function(){$(".popover").css("display","none")});$(".degree_group_similar").click(function(e){e.preventDefault();
var degree_group_id=$(this).attr("degree_group_id");NProgress.start();$(".loading_image").show();var url="/internship/getDegree";$.ajax(url,{data:{"degree_group_id":degree_group_id},success:get_degree_success,error:onError,type:"POST"})});$(document.body).on("click","#personal_details_edit",function(){$("#personal_details #first_name_container").show();$("#personal_details #last_name_container").show();$("#personal_details #email_container").show();$("#personal_details #personal-detail-submit").val("Update");
$("#personal_details #salutation").val($("#personal_details_resume_salutation").val());$("#personal_details #first_name").val($("#personal_details_resume_first_name").val());$("#personal_details #last_name").val($("#personal_details_resume_last_name").val());$("#personal_details #email").val($("#personal_details_resume_email").val());$("#personal_details #country_code").val($("#personal_details_resume_country_code").val());$("#personal_details #phone_primary").val($("#personal_details_resume_phone_primary").val());
$("#personal_details #current_city").val($("#personal_details_resume_current_city").val());$("#personal_details #second_city_of_residence").val($("#personal_details_resume_second_city_of_residence").val());$("#personal_details #current_city_sublocality_level_2").val($("#personal_details_resume_current_city_sublocality_level_2").val());$("#personal_details #current_city_sublocality_level_1").val($("#personal_details_resume_current_city_sublocality_level_1").val());$("#personal_details #current_city_locality").val($("#personal_details_resume_current_city_locality").val());
$("#personal_details #current_city_administrative_area_level_2").val($("#personal_details_resume_current_city_administrative_area_level_2").val());$("#personal_details #current_city_administrative_area_level_1").val($("#personal_details_resume_current_city_administrative_area_level_1").val());$("#personal_details #current_city_country").val($("#personal_details_resume_current_city_country").val());$("#personal_details #second_city_of_residence_sublocality_level_2").val($("#personal_details_resume_second_city_of_residence_sublocality_level_2").val());
$("#personal_details #second_city_of_residence_sublocality_level_1").val($("#personal_details_resume_second_city_of_residence_sublocality_level_1").val());$("#personal_details #second_city_of_residence_locality").val($("#personal_details_resume_second_city_of_residence_locality").val());$("#personal_details #second_city_of_residence_administrative_area_level_2").val($("#personal_details_resume_second_city_of_residence_administrative_area_level_2").val());$("#personal_details #second_city_of_residence_administrative_area_level_1").val($("#personal_details_resume_second_city_of_residence_administrative_area_level_1").val());
$("#personal_details #second_city_of_residence_country").val($("#personal_details_resume_second_city_of_residence_country").val())});$(document.body).on("click",".popover",function(){$(this).hide()});var screen=$(this);var float_button_top="";screen.scroll(function(e){float_button_top=add_tab_location(screen,float_button_top)});float_button_top=add_tab_location(screen,float_button_top)});function resume_initMap(){experiences_initMap();other_experiences_initMap();personal_details_initMap()}
function add_tab_location(screen,float_button_top){var device_height=document.documentElement.clientHeight;var footer_top=$("#footer").offset().top-device_height;var content_inner_bottom=$("#content-inner").height();var float_button_margin=($("#footer").offset().top-content_inner_bottom)/2;if(float_button_top=="")float_button_top=content_inner_bottom+float_button_margin;if(screen.scrollTop()>footer_top){$("#add-tab").css({position:"absolute",top:float_button_top,bottom:20,height:60});$(".popover").css({position:"absolute",
top:float_button_top+8,bottom:56,height:42})}else{$("#add-tab").css({position:"fixed",top:device_height-80,bottom:20});$(".popover").css({position:"fixed",top:device_height-72,bottom:56,height:42});float_button_top=$("#add-tab").offset().top}return float_button_top}
var get_degree_success=function(data){try{NProgress.done();$(".loading_image").hide();data=JSON.parse(data);if(!data.success);else{$("#similar_degrees_modal").modal({backdrop:"static",keyboard:false});$("#similar_degrees_modal").modal("show");$("#similar_degrees_modal .modal-body").html(data.successMsg["degrees_list"])}}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}};
var is_education_detail_filled_success=function(data){try{NProgress.done();$(".loading_image").hide();data=JSON.parse(data);if(!data.success);else if(data.is_education_details_complete)window.location.href=url;else throw_error("You must at least add your education detail(s) before you can apply to internships.")}catch(e){throw_error(e);NProgress.done();$(".loading_image").hide()}};/*
 jQuery Migrate - v1.2.1 - 2013-05-08
 https://github.com/jquery/jquery-migrate
 Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors; Licensed MIT
*/
(function(jQuery,window,undefined){var warnedAbout={};jQuery.migrateWarnings=[];if(!jQuery.migrateMute&&window.console&&window.console.log)window.console.log("JQMIGRATE: Logging is active");if(jQuery.migrateTrace===undefined)jQuery.migrateTrace=true;jQuery.migrateReset=function(){warnedAbout={};jQuery.migrateWarnings.length=0};function migrateWarn(msg){var console=window.console;if(!warnedAbout[msg]){warnedAbout[msg]=true;jQuery.migrateWarnings.push(msg);if(console&&console.warn&&!jQuery.migrateMute){console.warn("JQMIGRATE: "+
msg);if(jQuery.migrateTrace&&console.trace)console.trace()}}}function migrateWarnProp(obj,prop,value,msg){if(Object.defineProperty)try{Object.defineProperty(obj,prop,{configurable:true,enumerable:true,get:function(){migrateWarn(msg);return value},set:function(newValue){migrateWarn(msg);value=newValue}});return}catch(err){}jQuery._definePropertyBroken=true;obj[prop]=value}if(document.compatMode==="BackCompat")migrateWarn("jQuery is not compatible with Quirks Mode");var attrFn=jQuery("<input/>",{size:1}).attr("size")&&
jQuery.attrFn,oldAttr=jQuery.attr,valueAttrGet=jQuery.attrHooks.value&&jQuery.attrHooks.value.get||function(){return null},valueAttrSet=jQuery.attrHooks.value&&jQuery.attrHooks.value.set||function(){return undefined},rnoType=/^(?:input|button)$/i,rnoAttrNodeType=/^[238]$/,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ruseDefault=/^(?:checked|selected)$/i;migrateWarnProp(jQuery,"attrFn",attrFn||{},"jQuery.attrFn is deprecated");
jQuery.attr=function(elem,name,value,pass){var lowerName=name.toLowerCase(),nType=elem&&elem.nodeType;if(pass){if(oldAttr.length<4)migrateWarn("jQuery.fn.attr( props, pass ) is deprecated");if(elem&&!rnoAttrNodeType.test(nType)&&(attrFn?name in attrFn:jQuery.isFunction(jQuery.fn[name])))return jQuery(elem)[name](value)}if(name==="type"&&value!==undefined&&rnoType.test(elem.nodeName)&&elem.parentNode)migrateWarn("Can't change the 'type' of an input or button in IE 6/7/8");if(!jQuery.attrHooks[lowerName]&&
rboolean.test(lowerName)){jQuery.attrHooks[lowerName]={get:function(elem,name){var attrNode,property=jQuery.prop(elem,name);return property===true||typeof property!=="boolean"&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==false?name.toLowerCase():undefined},set:function(elem,value,name){var propName;if(value===false)jQuery.removeAttr(elem,name);else{propName=jQuery.propFix[name]||name;if(propName in elem)elem[propName]=true;elem.setAttribute(name,name.toLowerCase())}return name}};
if(ruseDefault.test(lowerName))migrateWarn("jQuery.fn.attr('"+lowerName+"') may use property instead of attribute")}return oldAttr.call(jQuery,elem,name,value)};jQuery.attrHooks.value={get:function(elem,name){var nodeName=(elem.nodeName||"").toLowerCase();if(nodeName==="button")return valueAttrGet.apply(this,arguments);if(nodeName!=="input"&&nodeName!=="option")migrateWarn("jQuery.fn.attr('value') no longer gets properties");return name in elem?elem.value:null},set:function(elem,value){var nodeName=
(elem.nodeName||"").toLowerCase();if(nodeName==="button")return valueAttrSet.apply(this,arguments);if(nodeName!=="input"&&nodeName!=="option")migrateWarn("jQuery.fn.attr('value', val) no longer sets properties");elem.value=value}};var matched,browser,oldInit=jQuery.fn.init,oldParseJSON=jQuery.parseJSON,rquickExpr=/^([^<]*)(<[\w\W]+>)([^>]*)$/;jQuery.fn.init=function(selector,context,rootjQuery){var match;if(selector&&typeof selector==="string"&&!jQuery.isPlainObject(context)&&(match=rquickExpr.exec(jQuery.trim(selector)))&&
match[0]){if(selector.charAt(0)!=="<")migrateWarn("$(html) HTML strings must start with '<' character");if(match[3])migrateWarn("$(html) HTML text after last tag is ignored");if(match[0].charAt(0)==="#"){migrateWarn("HTML string cannot start with a '#' character");jQuery.error("JQMIGRATE: Invalid selector string (XSS)")}if(context&&context.context)context=context.context;if(jQuery.parseHTML)return oldInit.call(this,jQuery.parseHTML(match[2],context,true),context,rootjQuery)}return oldInit.apply(this,
arguments)};jQuery.fn.init.prototype=jQuery.fn;jQuery.parseJSON=function(json){if(!json&&json!==null){migrateWarn("jQuery.parseJSON requires a valid JSON string");return null}return oldParseJSON.apply(this,arguments)};jQuery.uaMatch=function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||
"",version:match[2]||"0"}};if(!jQuery.browser){matched=jQuery.uaMatch(navigator.userAgent);browser={};if(matched.browser){browser[matched.browser]=true;browser.version=matched.version}if(browser.chrome)browser.webkit=true;else if(browser.webkit)browser.safari=true;jQuery.browser=browser}migrateWarnProp(jQuery,"browser",jQuery.browser,"jQuery.browser is deprecated");jQuery.sub=function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context)}jQuery.extend(true,jQuerySub,
this);jQuerySub.superclass=this;jQuerySub.fn=jQuerySub.prototype=this();jQuerySub.fn.constructor=jQuerySub;jQuerySub.sub=this.sub;jQuerySub.fn.init=function init(selector,context){if(context&&context instanceof jQuery&&!(context instanceof jQuerySub))context=jQuerySub(context);return jQuery.fn.init.call(this,selector,context,rootjQuerySub)};jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);migrateWarn("jQuery.sub() is deprecated");return jQuerySub};jQuery.ajaxSetup({converters:{"text json":jQuery.parseJSON}});
var oldFnData=jQuery.fn.data;jQuery.fn.data=function(name){var ret,evt,elem=this[0];if(elem&&name==="events"&&arguments.length===1){ret=jQuery.data(elem,name);evt=jQuery._data(elem,name);if((ret===undefined||ret===evt)&&evt!==undefined){migrateWarn("Use of jQuery.fn.data('events') is deprecated");return evt}}return oldFnData.apply(this,arguments)};var rscriptType=/\/(java|ecma)script/i,oldSelf=jQuery.fn.andSelf||jQuery.fn.addBack;jQuery.fn.andSelf=function(){migrateWarn("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()");
return oldSelf.apply(this,arguments)};if(!jQuery.clean)jQuery.clean=function(elems,context,fragment,scripts){context=context||document;context=!context.nodeType&&context[0]||context;context=context.ownerDocument||context;migrateWarn("jQuery.clean() is deprecated");var i,elem,handleScript,jsTags,ret=[];jQuery.merge(ret,jQuery.buildFragment(elems,context).childNodes);if(fragment){handleScript=function(elem){if(!elem.type||rscriptType.test(elem.type))return scripts?scripts.push(elem.parentNode?elem.parentNode.removeChild(elem):
elem):fragment.appendChild(elem)};for(i=0;(elem=ret[i])!=null;i++)if(!(jQuery.nodeName(elem,"script")&&handleScript(elem))){fragment.appendChild(elem);if(typeof elem.getElementsByTagName!=="undefined"){jsTags=jQuery.grep(jQuery.merge([],elem.getElementsByTagName("script")),handleScript);ret.splice.apply(ret,[i+1,0].concat(jsTags));i+=jsTags.length}}}return ret};var eventAdd=jQuery.event.add,eventRemove=jQuery.event.remove,eventTrigger=jQuery.event.trigger,oldToggle=jQuery.fn.toggle,oldLive=jQuery.fn.live,
oldDie=jQuery.fn.die,ajaxEvents="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",rajaxEvent=new RegExp("\\b(?:"+ajaxEvents+")\\b"),rhoverHack=/(?:^|\s)hover(\.\S+|)\b/,hoverHack=function(events){if(typeof events!=="string"||jQuery.event.special.hover)return events;if(rhoverHack.test(events))migrateWarn("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'");return events&&events.replace(rhoverHack,"mouseenter$1 mouseleave$1")};if(jQuery.event.props&&jQuery.event.props[0]!==
"attrChange")jQuery.event.props.unshift("attrChange","attrName","relatedNode","srcElement");if(jQuery.event.dispatch)migrateWarnProp(jQuery.event,"handle",jQuery.event.dispatch,"jQuery.event.handle is undocumented and deprecated");jQuery.event.add=function(elem,types,handler,data,selector){if(elem!==document&&rajaxEvent.test(types))migrateWarn("AJAX events should be attached to document: "+types);eventAdd.call(this,elem,hoverHack(types||""),handler,data,selector)};jQuery.event.remove=function(elem,
types,handler,selector,mappedTypes){eventRemove.call(this,elem,hoverHack(types)||"",handler,selector,mappedTypes)};jQuery.fn.error=function(){var args=Array.prototype.slice.call(arguments,0);migrateWarn("jQuery.fn.error() is deprecated");args.splice(0,0,"error");if(arguments.length)return this.bind.apply(this,args);this.triggerHandler.apply(this,args);return this};jQuery.fn.toggle=function(fn,fn2){if(!jQuery.isFunction(fn)||!jQuery.isFunction(fn2))return oldToggle.apply(this,arguments);migrateWarn("jQuery.fn.toggle(handler, handler...) is deprecated");
var args=arguments,guid=fn.guid||jQuery.guid++,i=0,toggler=function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false};toggler.guid=guid;while(i<args.length)args[i++].guid=guid;return this.click(toggler)};jQuery.fn.live=function(types,data,fn){migrateWarn("jQuery.fn.live() is deprecated");if(oldLive)return oldLive.apply(this,arguments);jQuery(this.context).on(types,
this.selector,data,fn);return this};jQuery.fn.die=function(types,fn){migrateWarn("jQuery.fn.die() is deprecated");if(oldDie)return oldDie.apply(this,arguments);jQuery(this.context).off(types,this.selector||"**",fn);return this};jQuery.event.trigger=function(event,data,elem,onlyHandlers){if(!elem&&!rajaxEvent.test(event))migrateWarn("Global events are undocumented and deprecated");return eventTrigger.call(this,event,data,elem||document,onlyHandlers)};jQuery.each(ajaxEvents.split("|"),function(_,name){jQuery.event.special[name]=
{setup:function(){var elem=this;if(elem!==document){jQuery.event.add(document,name+"."+jQuery.guid,function(){jQuery.event.trigger(name,null,elem,true)});jQuery._data(this,name,jQuery.guid++)}return false},teardown:function(){if(this!==document)jQuery.event.remove(document,name+"."+jQuery._data(this,name));return false}}})})(jQuery,window);(function(){var e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,t=self.Prism={util:{type:function(e){return Object.prototype.toString.call(e).match(/\[object (\w+)\]/)[1]},clone:function(e){var n=t.util.type(e);switch(n){case "Object":var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t.util.clone(e[i]));return r;case "Array":return e.slice()}return e}},languages:{extend:function(e,n){var r=t.util.clone(t.languages[e]);for(var i in n)r[i]=n[i];return r},insertBefore:function(e,n,r,i){i=i||t.languages;var s=i[e],
o={};for(var u in s)if(s.hasOwnProperty(u)){if(u==n)for(var a in r)r.hasOwnProperty(a)&&(o[a]=r[a]);o[u]=s[u]}return i[e]=o},DFS:function(e,n){for(var r in e){n.call(e,r,e[r]);t.util.type(e)==="Object"&&t.languages.DFS(e[r],n)}}},highlightAll:function(e,n){var r=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code');for(var i=0,s;s=r[i++];)t.highlightElement(s,e===!0,n)},highlightElement:function(r,i,s){var o,u,a=r;while(a&&!e.test(a.className))a=
a.parentNode;if(a){o=(a.className.match(e)||[,""])[1];u=t.languages[o]}if(!u)return;r.className=r.className.replace(e,"").replace(/\s+/g," ")+" language-"+o;a=r.parentNode;/pre/i.test(a.nodeName)&&(a.className=a.className.replace(e,"").replace(/\s+/g," ")+" language-"+o);var f=r.textContent;if(!f)return;f=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ");var l={element:r,language:o,grammar:u,code:f};t.hooks.run("before-highlight",l);if(i&&self.Worker){var c=new Worker(t.filename);
c.onmessage=function(e){l.highlightedCode=n.stringify(JSON.parse(e.data),o);t.hooks.run("before-insert",l);l.element.innerHTML=l.highlightedCode;s&&s.call(l.element);t.hooks.run("after-highlight",l)};c.postMessage(JSON.stringify({language:l.language,code:l.code}))}else{l.highlightedCode=t.highlight(l.code,l.grammar,l.language);t.hooks.run("before-insert",l);l.element.innerHTML=l.highlightedCode;s&&s.call(r);t.hooks.run("after-highlight",l)}},highlight:function(e,r,i){return n.stringify(t.tokenize(e,
r),i)},tokenize:function(e,n,r){var i=t.Token,s=[e],o=n.rest;if(o){for(var u in o)n[u]=o[u];delete n.rest}e:for(var u in n){if(!n.hasOwnProperty(u)||!n[u])continue;var a=n[u],f=a.inside,l=!!a.lookbehind,c=0;a=a.pattern||a;for(var h=0;h<s.length;h++){var p=s[h];if(s.length>e.length)break e;if(p instanceof i)continue;a.lastIndex=0;var d=a.exec(p);if(d){l&&(c=d[1].length);var v=d.index-1+c,d=d[0].slice(c),m=d.length,g=v+m,y=p.slice(0,v+1),b=p.slice(g+1),w=[h,1];y&&w.push(y);var E=new i(u,f?t.tokenize(d,
f):d);w.push(E);b&&w.push(b);Array.prototype.splice.apply(s,w)}}}return s},hooks:{all:{},add:function(e,n){var r=t.hooks.all;r[e]=r[e]||[];r[e].push(n)},run:function(e,n){var r=t.hooks.all[e];if(!r||!r.length)return;for(var i=0,s;s=r[i++];)s(n)}}},n=t.Token=function(e,t){this.type=e;this.content=t};n.stringify=function(e,r,i){if(typeof e=="string")return e;if(Object.prototype.toString.call(e)=="[object Array]")return e.map(function(t){return n.stringify(t,r,e)}).join("");var s={type:e.type,content:n.stringify(e.content,
r,i),tag:"span",classes:["token",e.type],attributes:{},language:r,parent:i};s.type=="comment"&&(s.attributes.spellcheck="true");t.hooks.run("wrap",s);var o="";for(var u in s.attributes)o+=u+'="'+(s.attributes[u]||"")+'"';return"<"+s.tag+' class="'+s.classes.join(" ")+'" '+o+">"+s.content+"</"+s.tag+">"};if(!self.document){self.addEventListener("message",function(e){var n=JSON.parse(e.data),r=n.language,i=n.code;self.postMessage(JSON.stringify(t.tokenize(i,t.languages[r])));self.close()},!1);return}var r=
document.getElementsByTagName("script");r=r[r.length-1];if(r){t.filename=r.src;document.addEventListener&&!r.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",t.highlightAll)}})();
Prism.languages.markup={comment:/&lt;!--[\w\W]*?--\x3e/g,prolog:/&lt;\?.+?\?>/,doctype:/&lt;!DOCTYPE.+?>/,cdata:/&lt;!\[CDATA\[[\w\W]*?]]\x3e/i,tag:{pattern:/&lt;\/?[\w:-]+\s*(?:\s+[\w:-]+(?:=(?:("|')(\\?[\w\W])*?\1|\w+))?\s*)*\/?>/gi,inside:{tag:{pattern:/^&lt;\/?[\w:-]+/i,inside:{punctuation:/^&lt;\/?/,namespace:/^[\w-]+?:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/gi,inside:{punctuation:/=|>|"/g}},punctuation:/\/?>/g,"attr-name":{pattern:/[\w:-]+/g,inside:{namespace:/^[\w-]+?:/}}}},
entity:/&amp;#?[\da-z]{1,8};/gi};Prism.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.replace(/&amp;/,"&"))});Prism.languages.css={comment:/\/\*[\w\W]*?\*\//g,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*{))/gi,inside:{punctuation:/[;:]/g}},url:/url\((["']?).*?\1\)/gi,selector:/[^\{\}\s][^\{\};]*(?=\s*\{)/g,property:/(\b|\B)[\w-]+(?=\s*:)/ig,string:/("|')(\\?.)*?\1/g,important:/\B!important\b/gi,ignore:/&(lt|gt|amp);/gi,punctuation:/[\{\};:]/g};
Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{style:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/style(>|&gt;)/ig,inside:{tag:{pattern:/(&lt;|<)style[\w\W]*?(>|&gt;)|(&lt;|<)\/style(>|&gt;)/ig,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.css}}});
Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|(^|[^:])\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,"class-name":{pattern:/((?:(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/ig,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,"function":{pattern:/[a-z0-9_]+\(/ig,inside:{punctuation:/\(/}},
number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?)\b/g,operator:/[-+]{1,2}|!|&lt;=?|>=?|={1,3}|(&amp;){1,2}|\|?\||\?|\*|\/|\~|\^|\%/g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g};Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|catch|finally|null|break|continue)\b/g,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee]-?\d+)?|NaN|-?Infinity)\b/g});
Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}});Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/ig,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/ig,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}});(function(){var SelectParser;SelectParser=function(){function SelectParser(){this.options_index=0;this.parsed=[]}SelectParser.prototype.add_node=function(child){if(child.nodeName==="OPTGROUP")return this.add_group(child);else return this.add_option(child)};SelectParser.prototype.add_group=function(group){var group_position,option,_i,_len,_ref,_results;group_position=this.parsed.length;this.parsed.push({array_index:group_position,group:true,label:group.label,children:0,disabled:group.disabled});_ref=
group.childNodes;_results=[];for(_i=0,_len=_ref.length;_i<_len;_i++){option=_ref[_i];_results.push(this.add_option(option,group_position,group.disabled))}return _results};SelectParser.prototype.add_option=function(option,group_position,group_disabled){if(option.nodeName==="OPTION"){if(option.text!==""){if(group_position!=null)this.parsed[group_position].children+=1;this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:option.value,text:option.text,html:option.innerHTML,
selected:option.selected,disabled:group_disabled===true?group_disabled:option.disabled,group_array_index:group_position,classes:option.className,style:option.style.cssText})}else this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:true});return this.options_index+=1}};return SelectParser}();SelectParser.select_to_array=function(select){var child,parser,_i,_len,_ref;parser=new SelectParser;_ref=select.childNodes;for(_i=0,_len=_ref.length;_i<_len;_i++){child=_ref[_i];
parser.add_node(child)}return parser.parsed};this.SelectParser=SelectParser}).call(this);
(function(){var AbstractChosen,root;root=this;AbstractChosen=function(){function AbstractChosen(form_field,options){this.form_field=form_field;this.options=options!=null?options:{};this.set_default_values();this.is_multiple=this.form_field.multiple;this.set_default_text();this.setup();this.set_up_html();this.register_observers();this.finish_setup()}AbstractChosen.prototype.set_default_values=function(){var _this=this;this.click_test_action=function(evt){return _this.test_active_click(evt)};this.activate_action=
function(evt){return _this.activate_field(evt)};this.active_field=false;this.mouse_on_container=false;this.results_showing=false;this.result_highlighted=null;this.result_single_selected=null;this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:false;this.disable_search_threshold=this.options.disable_search_threshold||0;this.search_contains=this.options.search_contains||false;this.choices=
0;this.single_backstroke_delete=this.options.single_backstroke_delete||false;return this.max_selected_options=this.options.max_selected_options||Infinity};AbstractChosen.prototype.set_default_text=function(){if(this.form_field.getAttribute("data-placeholder"))this.default_text=this.form_field.getAttribute("data-placeholder");else if(this.is_multiple)this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options";else this.default_text=this.options.placeholder_text_single||
this.options.placeholder_text||"Select an Option";return this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"};AbstractChosen.prototype.mouse_enter=function(){return this.mouse_on_container=true};AbstractChosen.prototype.mouse_leave=function(){return this.mouse_on_container=false};AbstractChosen.prototype.input_focus=function(evt){var _this=this;if(!this.active_field)return setTimeout(function(){return _this.container_mousedown()},
50)};AbstractChosen.prototype.input_blur=function(evt){var _this=this;if(!this.mouse_on_container){this.active_field=false;return setTimeout(function(){return _this.blur_test()},100)}};AbstractChosen.prototype.result_add_option=function(option){var classes,style;if(!option.disabled){option.dom_id=this.container_id+"_o_"+option.array_index;classes=option.selected&&this.is_multiple?[]:["active-result"];if(option.selected)classes.push("result-selected");if(option.group_array_index!=null)classes.push("group-option");
if(option.classes!=="")classes.push(option.classes);style=option.style.cssText!==""?' style="'+option.style+'"':"";return'<li id="'+option.dom_id+'" class="'+classes.join(" ")+'"'+style+">"+option.html+"</li>"}else{option.dom_id=this.container_id+"_o_"+option.array_index;classes=option.selected&&this.is_multiple?[]:["active-result"];if(option.selected)classes.push("result-selected");if(option.group_array_index!=null)classes.push("group-option");if(option.classes!=="")classes.push(option.classes);
classes.push("disabled");style=option.style.cssText!==""?' style="color:#aaa;'+option.style+'"':"";return'<li id="'+option.dom_id+'" class="'+classes.join(" ")+'"'+style+">"+option.html+"</li>"}};AbstractChosen.prototype.results_update_field=function(){if(!this.is_multiple)this.results_reset_cleanup();this.result_clear_highlight();this.result_single_selected=null;return this.results_build()};AbstractChosen.prototype.results_toggle=function(){if(this.results_showing)return this.results_hide();else return this.results_show()};
AbstractChosen.prototype.results_search=function(evt){if(this.results_showing)return this.winnow_results();else return this.results_show()};AbstractChosen.prototype.keyup_checker=function(evt){var stroke,_ref;stroke=(_ref=evt.which)!=null?_ref:evt.keyCode;this.search_field_scale();switch(stroke){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();else if(!this.pending_backstroke){this.result_clear_highlight();return this.results_search()}break;case 13:evt.preventDefault();
if(this.results_showing)return this.result_select(evt);break;case 27:if(this.results_showing)this.results_hide();return true;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}};AbstractChosen.prototype.generate_field_id=function(){var new_id;new_id=this.generate_random_id();this.form_field.id=new_id;return new_id};AbstractChosen.prototype.generate_random_char=function(){var chars,newchar,rand;chars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";rand=Math.floor(Math.random()*
chars.length);return newchar=chars.substring(rand,rand+1)};return AbstractChosen}();root.AbstractChosen=AbstractChosen}).call(this);
(function(){var $,Chosen,get_side_border_padding,root,__hasProp=Object.prototype.hasOwnProperty,__extends=function(child,parent){for(var key in parent)if(__hasProp.call(parent,key))child[key]=parent[key];function ctor(){this.constructor=child}ctor.prototype=parent.prototype;child.prototype=new ctor;child.__super__=parent.prototype;return child};root=this;$=jQuery;$.fn.extend({chosen:function(options){if($.browser.msie&&($.browser.version==="6.0"||$.browser.version==="7.0"))return this;return this.each(function(input_field){var $this;
$this=$(this);if(!$this.hasClass("chzn-done"))return $this.data("chosen",new Chosen(this,options))})}});Chosen=function(_super){__extends(Chosen,_super);function Chosen(){Chosen.__super__.constructor.apply(this,arguments)}Chosen.prototype.setup=function(){this.form_field_jq=$(this.form_field);this.current_value=this.form_field_jq.val();return this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")};Chosen.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")};Chosen.prototype.set_up_html=
function(){var container_div,dd_top,dd_width,sf_width;this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id();this.container_id+="_chzn";this.f_width=this.form_field_jq.outerWidth();container_div=$("<div />",{id:this.container_id,"class":"chzn-container"+(this.is_rtl?" chzn-rtl":""),style:"width: "+this.f_width+"px;"});if(this.is_multiple)container_div.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+
'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>');else container_div.html('<a href="javascript:void(0)" class="chzn-single chzn-default"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>');this.form_field_jq.hide().after(container_div);this.container=
$("#"+this.container_id);this.container.addClass("chzn-container-"+(this.is_multiple?"multi":"single"));this.dropdown=this.container.find("div.chzn-drop").first();dd_top=this.container.height();dd_width=this.f_width-get_side_border_padding(this.dropdown);this.dropdown.css({"width":dd_width+"px","top":dd_top+"px"});this.search_field=this.container.find("input").first();this.search_results=this.container.find("ul.chzn-results").first();this.search_field_scale();this.search_no_results=this.container.find("li.no-results").first();
if(this.is_multiple){this.search_choices=this.container.find("ul.chzn-choices").first();this.search_container=this.container.find("li.search-field").first()}else{this.search_container=this.container.find("div.chzn-search").first();this.selected_item=this.container.find(".chzn-single").first();sf_width=dd_width-get_side_border_padding(this.search_container)-get_side_border_padding(this.search_field);this.search_field.css({"width":sf_width+"px"})}this.results_build();this.set_tab_index();return this.form_field_jq.trigger("liszt:ready",
{chosen:this})};Chosen.prototype.register_observers=function(){var _this=this;this.container.mousedown(function(evt){return _this.container_mousedown(evt)});this.container.mouseup(function(evt){return _this.container_mouseup(evt)});this.container.mouseenter(function(evt){return _this.mouse_enter(evt)});this.container.mouseleave(function(evt){return _this.mouse_leave(evt)});this.search_results.mouseup(function(evt){return _this.search_results_mouseup(evt)});this.search_results.mouseover(function(evt){return _this.search_results_mouseover(evt)});
this.search_results.mouseout(function(evt){return _this.search_results_mouseout(evt)});this.form_field_jq.bind("liszt:updated",function(evt){return _this.results_update_field(evt)});this.search_field.blur(function(evt){return _this.input_blur(evt)});this.search_field.keyup(function(evt){return _this.keyup_checker(evt)});this.search_field.keydown(function(evt){return _this.keydown_checker(evt)});if(this.is_multiple){this.search_choices.click(function(evt){return _this.choices_click(evt)});return this.search_field.focus(function(evt){return _this.input_focus(evt)})}else return this.container.click(function(evt){return evt.preventDefault()})};
Chosen.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled){this.container.addClass("chzn-disabled");this.search_field[0].disabled=true;if(!this.is_multiple)this.selected_item.unbind("focus",this.activate_action);return this.close_field()}else{this.container.removeClass("chzn-disabled");this.search_field[0].disabled=false;if(!this.is_multiple)return this.selected_item.bind("focus",this.activate_action)}};Chosen.prototype.container_mousedown=
function(evt){var target_closelink;if(!this.is_disabled){target_closelink=evt!=null?$(evt.target).hasClass("search-choice-close"):false;if(evt&&evt.type==="mousedown"&&!this.results_showing)evt.stopPropagation();if(!this.pending_destroy_click&&!target_closelink){if(!this.active_field){if(this.is_multiple)this.search_field.val("");$(document).click(this.click_test_action);this.results_show()}else if(!this.is_multiple&&evt&&($(evt.target)[0]===this.selected_item[0]||$(evt.target).parents("a.chzn-single").length)){evt.preventDefault();
this.results_toggle()}return this.activate_field()}else return this.pending_destroy_click=false}};Chosen.prototype.container_mouseup=function(evt){if(evt.target.nodeName==="ABBR"&&!this.is_disabled)return this.results_reset(evt)};Chosen.prototype.blur_test=function(evt){if(!this.active_field&&this.container.hasClass("chzn-container-active"))return this.close_field()};Chosen.prototype.close_field=function(){$(document).unbind("click",this.click_test_action);if(!this.is_multiple){this.selected_item.attr("tabindex",
this.search_field.attr("tabindex"));this.search_field.attr("tabindex",-1)}this.active_field=false;this.results_hide();this.container.removeClass("chzn-container-active");this.winnow_results_clear();this.clear_backstroke();this.show_search_field_default();return this.search_field_scale()};Chosen.prototype.activate_field=function(){if(!this.is_multiple&&!this.active_field){this.search_field.attr("tabindex",this.selected_item.attr("tabindex"));this.selected_item.attr("tabindex",-1)}this.container.addClass("chzn-container-active");
this.active_field=true;this.search_field.val(this.search_field.val());return this.search_field.focus()};Chosen.prototype.test_active_click=function(evt){if($(evt.target).parents("#"+this.container_id).length)return this.active_field=true;else return this.close_field()};Chosen.prototype.results_build=function(){var content,data,_i,_len,_ref;this.parsing=true;this.results_data=root.SelectParser.select_to_array(this.form_field);if(this.is_multiple&&this.choices>0){this.search_choices.find("li.search-choice").remove();
this.choices=0}else if(!this.is_multiple){this.selected_item.addClass("chzn-default").find("span").text(this.default_text);if(this.form_field.options.length<=this.disable_search_threshold)this.container.addClass("chzn-container-single-nosearch");else this.container.removeClass("chzn-container-single-nosearch")}content="";_ref=this.results_data;for(_i=0,_len=_ref.length;_i<_len;_i++){data=_ref[_i];if(data.group)content+=this.result_add_group(data);else if(!data.empty){content+=this.result_add_option(data);
if(data.selected&&this.is_multiple)this.choice_build(data);else if(data.selected&&!this.is_multiple){this.selected_item.removeClass("chzn-default").find("span").text(data.text);if(this.allow_single_deselect)this.single_deselect_control_build()}}}this.search_field_disabled();this.show_search_field_default();this.search_field_scale();this.search_results.html(content);return this.parsing=false};Chosen.prototype.result_add_group=function(group){if(!group.disabled){group.dom_id=this.container_id+"_g_"+
group.array_index;return'<li id="'+group.dom_id+'" class="group-result">'+$("<div />").text(group.label).html()+"</li>"}else return""};Chosen.prototype.result_do_highlight=function(el){var high_bottom,high_top,maxHeight,visible_bottom,visible_top;if(el.length){this.result_clear_highlight();this.result_highlight=el;this.result_highlight.addClass("highlighted");maxHeight=parseInt(this.search_results.css("maxHeight"),10);visible_top=this.search_results.scrollTop();visible_bottom=maxHeight+visible_top;
high_top=this.result_highlight.position().top+this.search_results.scrollTop();high_bottom=high_top+this.result_highlight.outerHeight();if(high_bottom>=visible_bottom)return this.search_results.scrollTop(high_bottom-maxHeight>0?high_bottom-maxHeight:0);else if(high_top<visible_top)return this.search_results.scrollTop(high_top)}};Chosen.prototype.result_clear_highlight=function(){if(this.result_highlight)this.result_highlight.removeClass("highlighted");return this.result_highlight=null};Chosen.prototype.results_show=
function(){var dd_top;if(!this.is_multiple){this.selected_item.addClass("chzn-single-with-drop");if(this.result_single_selected)this.result_do_highlight(this.result_single_selected)}else if(this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});return false}dd_top=this.is_multiple?this.container.height():this.container.height()-1;this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this});this.dropdown.css({"top":dd_top+"px","left":0});this.results_showing=
true;this.search_field.focus();this.search_field.val(this.search_field.val());return this.winnow_results()};Chosen.prototype.results_hide=function(){if(!this.is_multiple)this.selected_item.removeClass("chzn-single-with-drop");this.result_clear_highlight();this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this});this.dropdown.css({"left":"-9000px"});return this.results_showing=false};Chosen.prototype.set_tab_index=function(el){var ti;if(this.form_field_jq.attr("tabindex")){ti=this.form_field_jq.attr("tabindex");
this.form_field_jq.attr("tabindex",-1);if(this.is_multiple)return this.search_field.attr("tabindex",ti);else{this.selected_item.attr("tabindex",ti);return this.search_field.attr("tabindex",-1)}}};Chosen.prototype.show_search_field_default=function(){if(this.is_multiple&&this.choices<1&&!this.active_field){this.search_field.val(this.default_text);return this.search_field.addClass("default")}else{this.search_field.val("");return this.search_field.removeClass("default")}};Chosen.prototype.search_results_mouseup=
function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target.length){this.result_highlight=target;return this.result_select(evt)}};Chosen.prototype.search_results_mouseover=function(evt){var target;target=$(evt.target).hasClass("active-result")?$(evt.target):$(evt.target).parents(".active-result").first();if(target)return this.result_do_highlight(target)};Chosen.prototype.search_results_mouseout=function(evt){if($(evt.target).hasClass("active-result"||
$(evt.target).parents(".active-result").first()))return this.result_clear_highlight()};Chosen.prototype.choices_click=function(evt){evt.preventDefault();if(this.active_field&&!$(evt.target).hasClass("search-choice"||$(evt.target).parents(".search-choice").first)&&!this.results_showing)return this.results_show()};Chosen.prototype.choice_build=function(item){var choice_id,link,_this=this;if(this.is_multiple&&this.max_selected_options<=this.choices){this.form_field_jq.trigger("liszt:maxselected",{chosen:this});
return false}choice_id=this.container_id+"_c_"+item.array_index;this.choices+=1;this.search_container.before('<li class="search-choice" id="'+choice_id+'"><span>'+item.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+item.array_index+'"></a></li>');link=$("#"+choice_id).find("a").first();return link.click(function(evt){return _this.choice_destroy_link_click(evt)})};Chosen.prototype.choice_destroy_link_click=function(evt){evt.preventDefault();evt.stopPropagation();if(!this.is_disabled){this.pending_destroy_click=
true;return this.choice_destroy($(evt.target))}};Chosen.prototype.choice_destroy=function(link){this.choices-=1;this.show_search_field_default();if(this.is_multiple&&this.choices>0&&this.search_field.val().length<1)this.results_hide();this.result_deselect(link.attr("rel"));return link.parents("li").first().remove()};Chosen.prototype.results_reset=function(){this.form_field.options[0].selected=true;this.selected_item.find("span").text(this.default_text);if(!this.is_multiple)this.selected_item.addClass("chzn-default");
this.show_search_field_default();this.results_reset_cleanup();this.form_field_jq.trigger("change");if(this.active_field)return this.results_hide()};Chosen.prototype.results_reset_cleanup=function(){return this.selected_item.find("abbr").remove()};Chosen.prototype.result_select=function(evt){var high,high_id,item,position;if(this.result_highlight){high=this.result_highlight;if(high.hasClass("disabled")||high.hasClass("hidden"))return false;high_id=high.attr("id");this.result_clear_highlight();if(this.is_multiple)this.result_deactivate(high);
else{this.search_results.find(".result-selected").removeClass("result-selected");this.result_single_selected=high;this.selected_item.removeClass("chzn-default")}high.addClass("result-selected");position=high_id.substr(high_id.lastIndexOf("_")+1);item=this.results_data[position];item.selected=true;this.form_field.options[item.options_index].selected=true;if(this.is_multiple)this.choice_build(item);else{this.selected_item.find("span").first().text(item.text);if(this.allow_single_deselect)this.single_deselect_control_build()}if(!(evt.metaKey&&
this.is_multiple))this.results_hide();this.search_field.val("");if(this.is_multiple||this.form_field_jq.val()!==this.current_value)this.form_field_jq.trigger("change",{"selected":this.form_field.options[item.options_index].value});this.current_value=this.form_field_jq.val();return this.search_field_scale()}};Chosen.prototype.result_activate=function(el){return el.addClass("active-result")};Chosen.prototype.result_deactivate=function(el){return el.removeClass("active-result")};Chosen.prototype.result_deselect=
function(pos){var result,result_data;result_data=this.results_data[pos];result_data.selected=false;this.form_field.options[result_data.options_index].selected=false;result=$("#"+this.container_id+"_o_"+pos);result.removeClass("result-selected").addClass("active-result").show();this.result_clear_highlight();this.winnow_results();this.form_field_jq.trigger("change",{deselected:this.form_field.options[result_data.options_index].value});return this.search_field_scale()};Chosen.prototype.single_deselect_control_build=
function(){if(this.allow_single_deselect&&this.selected_item.find("abbr").length<1)return this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>')};Chosen.prototype.winnow_results=function(){var found,option,part,parts,regex,regexAnchor,result,result_id,results,searchText,startpos,text,zregex,_i,_j,_len,_len2,_ref;this.no_results_clear();results=0;searchText=this.search_field.val()===this.default_text?"":$("<div/>").text($.trim(this.search_field.val())).html();regexAnchor=
this.search_contains?"":"^";regex=new RegExp(regexAnchor+searchText.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");zregex=new RegExp(searchText.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i");_ref=this.results_data;for(_i=0,_len=_ref.length;_i<_len;_i++){option=_ref[_i];if(!option.empty)if(option.group)$("#"+option.dom_id).css("display","none");else if(!(this.is_multiple&&option.selected)){found=false;result_id=option.dom_id;result=$("#"+result_id);if(regex.test(option.html)){found=true;results+=
1}else if(option.html.indexOf(" ")>=0||option.html.indexOf("[")===0){parts=option.html.replace(/\[|\]/g,"").split(" ");if(parts.length)for(_j=0,_len2=parts.length;_j<_len2;_j++){part=parts[_j];if(regex.test(part)){found=true;results+=1}}}if(found){if(searchText.length){startpos=option.html.search(zregex);text=option.html.substr(0,startpos+searchText.length)+"</em>"+option.html.substr(startpos+searchText.length);text=text.substr(0,startpos)+"<em>"+text.substr(startpos)}else text=option.html;result.html(text);
this.result_activate(result);if(option.group_array_index!=null)$("#"+this.results_data[option.group_array_index].dom_id).css("display","list-item")}else{if(this.result_highlight&&result_id===this.result_highlight.attr("id"))this.result_clear_highlight();this.result_deactivate(result)}}}if(results<1&&searchText.length)return this.no_results(searchText);else return this.winnow_results_set_highlight()};Chosen.prototype.winnow_results_clear=function(){var li,lis,_i,_len,_results;this.search_field.val("");
lis=this.search_results.find("li");_results=[];for(_i=0,_len=lis.length;_i<_len;_i++){li=lis[_i];li=$(li);if(li.hasClass("group-result"))_results.push(li.css("display","auto"));else if(!this.is_multiple||!li.hasClass("result-selected"))_results.push(this.result_activate(li));else _results.push(void 0)}return _results};Chosen.prototype.winnow_results_set_highlight=function(){var do_high,selected_results;if(!this.result_highlight){selected_results=!this.is_multiple?this.search_results.find(".result-selected.active-result"):
[];do_high=selected_results.length?selected_results.first():this.search_results.find(".active-result").first();if(do_high!=null)return this.result_do_highlight(do_high)}};Chosen.prototype.no_results=function(terms){var no_results_html;no_results_html=$('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>');no_results_html.find("span").first().html(terms);return this.search_results.append(no_results_html)};Chosen.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()};
Chosen.prototype.keydown_arrow=function(){var first_active,next_sib;if(!this.result_highlight){first_active=this.search_results.find("li.active-result").first();if(first_active)this.result_do_highlight($(first_active))}else if(this.results_showing){next_sib=this.result_highlight.nextAll("li.active-result").first();if(next_sib)this.result_do_highlight(next_sib)}if(!this.results_showing)return this.results_show()};Chosen.prototype.keyup_arrow=function(){var prev_sibs;if(!this.results_showing&&!this.is_multiple)return this.results_show();
else if(this.result_highlight){prev_sibs=this.result_highlight.prevAll("li.active-result");if(prev_sibs.length)return this.result_do_highlight(prev_sibs.first());else{if(this.choices>0)this.results_hide();return this.result_clear_highlight()}}};Chosen.prototype.keydown_backstroke=function(){if(this.pending_backstroke)return this.clear_backstroke();else{this.pending_backstroke=this.search_container.siblings("li.search-choice").last();if(this.single_backstroke_delete)return this.keydown_backstroke();
else return this.pending_backstroke.addClass("search-choice-focus")}};Chosen.prototype.clear_backstroke=function(){if(this.pending_backstroke)this.pending_backstroke.removeClass("search-choice-focus");return this.pending_backstroke=null};Chosen.prototype.keydown_checker=function(evt){var stroke,_ref;stroke=(_ref=evt.which)!=null?_ref:evt.keyCode;this.search_field_scale();if(stroke!==8&&this.pending_backstroke)this.clear_backstroke();switch(stroke){case 8:this.backstroke_length=this.search_field.val().length;
break;case 9:if(this.results_showing&&!this.is_multiple)this.result_select(evt);this.mouse_on_container=false;break;case 13:evt.preventDefault();break;case 38:evt.preventDefault();this.keyup_arrow();break;case 40:this.keydown_arrow();break}};Chosen.prototype.search_field_scale=function(){var dd_top,div,h,style,style_block,styles,w,_i,_len;if(this.is_multiple){h=0;w=0;style_block="position:absolute; left: -1000px; top: -1000px; display:none;";styles=["font-size","font-style","font-weight","font-family",
"line-height","text-transform","letter-spacing"];for(_i=0,_len=styles.length;_i<_len;_i++){style=styles[_i];style_block+=style+":"+this.search_field.css(style)+";"}div=$("<div />",{"style":style_block});div.text(this.search_field.val());$("body").append(div);w=div.width()+25;div.remove();if(w>this.f_width-10)w=this.f_width-10;this.search_field.css({"width":w+"px"});dd_top=this.container.height();return this.dropdown.css({"top":dd_top+"px"})}};Chosen.prototype.generate_random_id=function(){var string;
string="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();while($("#"+string).length>0)string+=this.generate_random_char();return string};return Chosen}(AbstractChosen);get_side_border_padding=function(elmt){var side_border_padding;return side_border_padding=elmt.outerWidth()-elmt.width()};root.get_side_border_padding=get_side_border_padding}).call(this);function set_student_resume_score_in_view(score,is_resume_mobile_view){var pathname=window.location.pathname;var screen_width=$(window).width();if(is_resume_mobile_view==true||screen_width<993&&pathname=="/student/resume"){if(typeof barMobile!=="undefined")barMobile.animate(score/100)}else if(typeof bar!=="undefined")bar.animate(score/100);var rating="";if(score>80){rating="Awesome";$(".rating span").css("color","#34CB9A")}else if(score>60){rating="Good";$(".rating span").css("color","#9ACB7D")}else if(score>
40){rating="Average";$(".rating span").css("color","#FFCA5F")}else if(score>20){rating="Below average";$(".rating span").css("color","#FCA872")}else{rating="Poor";$(".rating span").css("color","#F98585")}$(".rating span").text(rating);$("#scoreDetailsContainer #resumeScoreMobileValue").text(score+" out of 100")}$(".rating span").css("text-color","#ff0000 !important");/*
 All equations are adapted from Thomas Fuchs'
 [Scripty2](https://github.com/madrobby/scripty2/blob/master/src/effects/transitions/penner.js).

 Based on Easing Equations (c) 2003 [Robert
 Penner](http://www.robertpenner.com/), all rights reserved. This work is
 [subject to terms](http://www.robertpenner.com/easing_terms_of_use.html).
 TERMS OF USE - EASING EQUATIONS
  Open source under the BSD License.
  Easing Equations (c) 2003 Robert Penner, all rights reserved.
*/
(function(f){if(typeof exports==="object"&&typeof module!=="undefined")module.exports=f();else if(typeof define==="function"&&define.amd)define([],f);else{var g;if(typeof window!=="undefined")g=window;else if(typeof global!=="undefined")g=global;else if(typeof self!=="undefined")g=self;else g=this;g.ProgressBar=f()}})(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);
var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f;}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(){var root=this||Function("return this")();var Tweenable=function(){var formula;var DEFAULT_SCHEDULE_FUNCTION;var DEFAULT_EASING="linear";var DEFAULT_DURATION=
500;var UPDATE_TIME=1E3/60;var _now=Date.now?Date.now:function(){return+new Date};var now=typeof SHIFTY_DEBUG_NOW!=="undefined"?SHIFTY_DEBUG_NOW:_now;if(typeof window!=="undefined")DEFAULT_SCHEDULE_FUNCTION=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout;else DEFAULT_SCHEDULE_FUNCTION=setTimeout;function noop(){}function each(obj,fn){var key;
for(key in obj)if(Object.hasOwnProperty.call(obj,key))fn(key)}function shallowCopy(targetObj,srcObj){each(srcObj,function(prop){targetObj[prop]=srcObj[prop]});return targetObj}function defaults(target,src){each(src,function(prop){if(typeof target[prop]==="undefined")target[prop]=src[prop]})}function tweenProps(forPosition,currentState,originalState,targetState,duration,timestamp,easing){var normalizedPosition=forPosition<timestamp?0:(forPosition-timestamp)/duration;var prop;var easingObjectProp;var easingFn;
for(prop in currentState)if(currentState.hasOwnProperty(prop)){easingObjectProp=easing[prop];easingFn=typeof easingObjectProp==="function"?easingObjectProp:formula[easingObjectProp];currentState[prop]=tweenProp(originalState[prop],targetState[prop],easingFn,normalizedPosition)}return currentState}function tweenProp(start,end,easingFunc,position){return start+(end-start)*easingFunc(position)}function applyFilter(tweenable,filterName){var filters=Tweenable.prototype.filter;var args=tweenable._filterArgs;
each(filters,function(name){if(typeof filters[name][filterName]!=="undefined")filters[name][filterName].apply(tweenable,args)})}var timeoutHandler_endTime;var timeoutHandler_currentTime;var timeoutHandler_isEnded;var timeoutHandler_offset;function timeoutHandler(tweenable,timestamp,delay,duration,currentState,originalState,targetState,easing,step,schedule,opt_currentTimeOverride){timeoutHandler_endTime=timestamp+delay+duration;timeoutHandler_currentTime=Math.min(opt_currentTimeOverride||now(),timeoutHandler_endTime);
timeoutHandler_isEnded=timeoutHandler_currentTime>=timeoutHandler_endTime;timeoutHandler_offset=duration-(timeoutHandler_endTime-timeoutHandler_currentTime);if(tweenable.isPlaying())if(timeoutHandler_isEnded){step(targetState,tweenable._attachment,timeoutHandler_offset);tweenable.stop(true)}else{tweenable._scheduleId=schedule(tweenable._timeoutHandler,UPDATE_TIME);applyFilter(tweenable,"beforeTween");if(timeoutHandler_currentTime<timestamp+delay)tweenProps(1,currentState,originalState,targetState,
1,1,easing);else tweenProps(timeoutHandler_currentTime,currentState,originalState,targetState,duration,timestamp+delay,easing);applyFilter(tweenable,"afterTween");step(currentState,tweenable._attachment,timeoutHandler_offset)}}function composeEasingObject(fromTweenParams,easing){var composedEasing={};var typeofEasing=typeof easing;if(typeofEasing==="string"||typeofEasing==="function")each(fromTweenParams,function(prop){composedEasing[prop]=easing});else each(fromTweenParams,function(prop){if(!composedEasing[prop])composedEasing[prop]=
easing[prop]||DEFAULT_EASING});return composedEasing}function Tweenable(opt_initialState,opt_config){this._currentState=opt_initialState||{};this._configured=false;this._scheduleFunction=DEFAULT_SCHEDULE_FUNCTION;if(typeof opt_config!=="undefined")this.setConfig(opt_config)}Tweenable.prototype.tween=function(opt_config){if(this._isTweening)return this;if(opt_config!==undefined||!this._configured)this.setConfig(opt_config);this._timestamp=now();this._start(this.get(),this._attachment);return this.resume()};
Tweenable.prototype.setConfig=function(config){config=config||{};this._configured=true;this._attachment=config.attachment;this._pausedAtTime=null;this._scheduleId=null;this._delay=config.delay||0;this._start=config.start||noop;this._step=config.step||noop;this._finish=config.finish||noop;this._duration=config.duration||DEFAULT_DURATION;this._currentState=shallowCopy({},config.from)||this.get();this._originalState=this.get();this._targetState=shallowCopy({},config.to)||this.get();var self=this;this._timeoutHandler=
function(){timeoutHandler(self,self._timestamp,self._delay,self._duration,self._currentState,self._originalState,self._targetState,self._easing,self._step,self._scheduleFunction)};var currentState=this._currentState;var targetState=this._targetState;defaults(targetState,currentState);this._easing=composeEasingObject(currentState,config.easing||DEFAULT_EASING);this._filterArgs=[currentState,this._originalState,targetState,this._easing];applyFilter(this,"tweenCreated");return this};Tweenable.prototype.get=
function(){return shallowCopy({},this._currentState)};Tweenable.prototype.set=function(state){this._currentState=state};Tweenable.prototype.pause=function(){this._pausedAtTime=now();this._isPaused=true;return this};Tweenable.prototype.resume=function(){if(this._isPaused)this._timestamp+=now()-this._pausedAtTime;this._isPaused=false;this._isTweening=true;this._timeoutHandler();return this};Tweenable.prototype.seek=function(millisecond){millisecond=Math.max(millisecond,0);var currentTime=now();if(this._timestamp+
millisecond===0)return this;this._timestamp=currentTime-millisecond;if(!this.isPlaying()){this._isTweening=true;this._isPaused=false;timeoutHandler(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,currentTime);this.pause()}return this};Tweenable.prototype.stop=function(gotoEnd){this._isTweening=false;this._isPaused=false;this._timeoutHandler=noop;(root.cancelAnimationFrame||root.webkitCancelAnimationFrame||
root.oCancelAnimationFrame||root.msCancelAnimationFrame||root.mozCancelRequestAnimationFrame||root.clearTimeout)(this._scheduleId);if(gotoEnd){applyFilter(this,"beforeTween");tweenProps(1,this._currentState,this._originalState,this._targetState,1,0,this._easing);applyFilter(this,"afterTween");applyFilter(this,"afterTweenEnd");this._finish.call(this,this._currentState,this._attachment)}return this};Tweenable.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused};Tweenable.prototype.setScheduleFunction=
function(scheduleFunction){this._scheduleFunction=scheduleFunction};Tweenable.prototype.dispose=function(){var prop;for(prop in this)if(this.hasOwnProperty(prop))delete this[prop]};Tweenable.prototype.filter={};Tweenable.prototype.formula={linear:function(pos){return pos}};formula=Tweenable.prototype.formula;shallowCopy(Tweenable,{"now":now,"each":each,"tweenProps":tweenProps,"tweenProp":tweenProp,"applyFilter":applyFilter,"shallowCopy":shallowCopy,"defaults":defaults,"composeEasingObject":composeEasingObject});
if(typeof SHIFTY_DEBUG_NOW==="function")root.timeoutHandler=timeoutHandler;if(typeof exports==="object")module.exports=Tweenable;else if(typeof define==="function"&&define.amd)define(function(){return Tweenable});else if(typeof root.Tweenable==="undefined")root.Tweenable=Tweenable;return Tweenable}();(function(){Tweenable.shallowCopy(Tweenable.prototype.formula,{easeInQuad:function(pos){return Math.pow(pos,2)},easeOutQuad:function(pos){return-(Math.pow(pos-1,2)-1)},easeInOutQuad:function(pos){if((pos/=
.5)<1)return.5*Math.pow(pos,2);return-.5*((pos-=2)*pos-2)},easeInCubic:function(pos){return Math.pow(pos,3)},easeOutCubic:function(pos){return Math.pow(pos-1,3)+1},easeInOutCubic:function(pos){if((pos/=.5)<1)return.5*Math.pow(pos,3);return.5*(Math.pow(pos-2,3)+2)},easeInQuart:function(pos){return Math.pow(pos,4)},easeOutQuart:function(pos){return-(Math.pow(pos-1,4)-1)},easeInOutQuart:function(pos){if((pos/=.5)<1)return.5*Math.pow(pos,4);return-.5*((pos-=2)*Math.pow(pos,3)-2)},easeInQuint:function(pos){return Math.pow(pos,
5)},easeOutQuint:function(pos){return Math.pow(pos-1,5)+1},easeInOutQuint:function(pos){if((pos/=.5)<1)return.5*Math.pow(pos,5);return.5*(Math.pow(pos-2,5)+2)},easeInSine:function(pos){return-Math.cos(pos*(Math.PI/2))+1},easeOutSine:function(pos){return Math.sin(pos*(Math.PI/2))},easeInOutSine:function(pos){return-.5*(Math.cos(Math.PI*pos)-1)},easeInExpo:function(pos){return pos===0?0:Math.pow(2,10*(pos-1))},easeOutExpo:function(pos){return pos===1?1:-Math.pow(2,-10*pos)+1},easeInOutExpo:function(pos){if(pos===
0)return 0;if(pos===1)return 1;if((pos/=.5)<1)return.5*Math.pow(2,10*(pos-1));return.5*(-Math.pow(2,-10*--pos)+2)},easeInCirc:function(pos){return-(Math.sqrt(1-pos*pos)-1)},easeOutCirc:function(pos){return Math.sqrt(1-Math.pow(pos-1,2))},easeInOutCirc:function(pos){if((pos/=.5)<1)return-.5*(Math.sqrt(1-pos*pos)-1);return.5*(Math.sqrt(1-(pos-=2)*pos)+1)},easeOutBounce:function(pos){if(pos<1/2.75)return 7.5625*pos*pos;else if(pos<2/2.75)return 7.5625*(pos-=1.5/2.75)*pos+.75;else if(pos<2.5/2.75)return 7.5625*
(pos-=2.25/2.75)*pos+.9375;else return 7.5625*(pos-=2.625/2.75)*pos+.984375},easeInBack:function(pos){var s=1.70158;return pos*pos*((s+1)*pos-s)},easeOutBack:function(pos){var s=1.70158;return(pos=pos-1)*pos*((s+1)*pos+s)+1},easeInOutBack:function(pos){var s=1.70158;if((pos/=.5)<1)return.5*(pos*pos*(((s*=1.525)+1)*pos-s));return.5*((pos-=2)*pos*(((s*=1.525)+1)*pos+s)+2)},elastic:function(pos){return-1*Math.pow(4,-8*pos)*Math.sin((pos*6-1)*(2*Math.PI)/2)+1},swingFromTo:function(pos){var s=1.70158;
return(pos/=.5)<1?.5*(pos*pos*(((s*=1.525)+1)*pos-s)):.5*((pos-=2)*pos*(((s*=1.525)+1)*pos+s)+2)},swingFrom:function(pos){var s=1.70158;return pos*pos*((s+1)*pos-s)},swingTo:function(pos){var s=1.70158;return(pos-=1)*pos*((s+1)*pos+s)+1},bounce:function(pos){if(pos<1/2.75)return 7.5625*pos*pos;else if(pos<2/2.75)return 7.5625*(pos-=1.5/2.75)*pos+.75;else if(pos<2.5/2.75)return 7.5625*(pos-=2.25/2.75)*pos+.9375;else return 7.5625*(pos-=2.625/2.75)*pos+.984375},bouncePast:function(pos){if(pos<1/2.75)return 7.5625*
pos*pos;else if(pos<2/2.75)return 2-(7.5625*(pos-=1.5/2.75)*pos+.75);else if(pos<2.5/2.75)return 2-(7.5625*(pos-=2.25/2.75)*pos+.9375);else return 2-(7.5625*(pos-=2.625/2.75)*pos+.984375)},easeFromTo:function(pos){if((pos/=.5)<1)return.5*Math.pow(pos,4);return-.5*((pos-=2)*Math.pow(pos,3)-2)},easeFrom:function(pos){return Math.pow(pos,4)},easeTo:function(pos){return Math.pow(pos,.25)}})})();(function(){function cubicBezierAtTime(t,p1x,p1y,p2x,p2y,duration){var ax=0,bx=0,cx=0,ay=0,by=0,cy=0;function sampleCurveX(t){return((ax*
t+bx)*t+cx)*t}function sampleCurveY(t){return((ay*t+by)*t+cy)*t}function sampleCurveDerivativeX(t){return(3*ax*t+2*bx)*t+cx}function solveEpsilon(duration){return 1/(200*duration)}function solve(x,epsilon){return sampleCurveY(solveCurveX(x,epsilon))}function fabs(n){if(n>=0)return n;else return 0-n}function solveCurveX(x,epsilon){var t0,t1,t2,x2,d2,i;for(t2=x,i=0;i<8;i++){x2=sampleCurveX(t2)-x;if(fabs(x2)<epsilon)return t2;d2=sampleCurveDerivativeX(t2);if(fabs(d2)<1E-6)break;t2=t2-x2/d2}t0=0;t1=1;
t2=x;if(t2<t0)return t0;if(t2>t1)return t1;while(t0<t1){x2=sampleCurveX(t2);if(fabs(x2-x)<epsilon)return t2;if(x>x2)t0=t2;else t1=t2;t2=(t1-t0)*.5+t0}return t2}cx=3*p1x;bx=3*(p2x-p1x)-cx;ax=1-cx-bx;cy=3*p1y;by=3*(p2y-p1y)-cy;ay=1-cy-by;return solve(t,solveEpsilon(duration))}function getCubicBezierTransition(x1,y1,x2,y2){return function(pos){return cubicBezierAtTime(pos,x1,y1,x2,y2,1)}}Tweenable.setBezierFunction=function(name,x1,y1,x2,y2){var cubicBezierTransition=getCubicBezierTransition(x1,y1,x2,
y2);cubicBezierTransition.displayName=name;cubicBezierTransition.x1=x1;cubicBezierTransition.y1=y1;cubicBezierTransition.x2=x2;cubicBezierTransition.y2=y2;return Tweenable.prototype.formula[name]=cubicBezierTransition};Tweenable.unsetBezierFunction=function(name){delete Tweenable.prototype.formula[name]}})();(function(){function getInterpolatedValues(from,current,targetState,position,easing,delay){return Tweenable.tweenProps(position,current,from,targetState,1,delay,easing)}var mockTweenable=new Tweenable;
mockTweenable._filterArgs=[];Tweenable.interpolate=function(from,targetState,position,easing,opt_delay){var current=Tweenable.shallowCopy({},from);var delay=opt_delay||0;var easingObject=Tweenable.composeEasingObject(from,easing||"linear");mockTweenable.set({});var filterArgs=mockTweenable._filterArgs;filterArgs.length=0;filterArgs[0]=current;filterArgs[1]=from;filterArgs[2]=targetState;filterArgs[3]=easingObject;Tweenable.applyFilter(mockTweenable,"tweenCreated");Tweenable.applyFilter(mockTweenable,
"beforeTween");var interpolatedValues=getInterpolatedValues(from,current,targetState,position,easingObject,delay);Tweenable.applyFilter(mockTweenable,"afterTween");return interpolatedValues}})();(function(Tweenable){var formatManifest;var R_NUMBER_COMPONENT=/(\d|\-|\.)/;var R_FORMAT_CHUNKS=/([^\-0-9\.]+)/g;var R_UNFORMATTED_VALUES=/[0-9.\-]+/g;var R_RGB=new RegExp("rgb\\("+R_UNFORMATTED_VALUES.source+/,\s*/.source+R_UNFORMATTED_VALUES.source+/,\s*/.source+R_UNFORMATTED_VALUES.source+"\\)","g");var R_RGB_PREFIX=
/^.*\(/;var R_HEX=/#([0-9]|[a-f]){3,6}/gi;var VALUE_PLACEHOLDER="VAL";function getFormatChunksFrom(rawValues,prefix){var accumulator=[];var rawValuesLength=rawValues.length;var i;for(i=0;i<rawValuesLength;i++)accumulator.push("_"+prefix+"_"+i);return accumulator}function getFormatStringFrom(formattedString){var chunks=formattedString.match(R_FORMAT_CHUNKS);if(!chunks)chunks=["",""];else if(chunks.length===1||formattedString[0].match(R_NUMBER_COMPONENT))chunks.unshift("");return chunks.join(VALUE_PLACEHOLDER)}
function sanitizeObjectForHexProps(stateObject){Tweenable.each(stateObject,function(prop){var currentProp=stateObject[prop];if(typeof currentProp==="string"&&currentProp.match(R_HEX))stateObject[prop]=sanitizeHexChunksToRGB(currentProp)})}function sanitizeHexChunksToRGB(str){return filterStringChunks(R_HEX,str,convertHexToRGB)}function convertHexToRGB(hexString){var rgbArr=hexToRGBArray(hexString);return"rgb("+rgbArr[0]+","+rgbArr[1]+","+rgbArr[2]+")"}var hexToRGBArray_returnArray=[];function hexToRGBArray(hex){hex=
hex.replace(/#/,"");if(hex.length===3){hex=hex.split("");hex=hex[0]+hex[0]+hex[1]+hex[1]+hex[2]+hex[2]}hexToRGBArray_returnArray[0]=hexToDec(hex.substr(0,2));hexToRGBArray_returnArray[1]=hexToDec(hex.substr(2,2));hexToRGBArray_returnArray[2]=hexToDec(hex.substr(4,2));return hexToRGBArray_returnArray}function hexToDec(hex){return parseInt(hex,16)}function filterStringChunks(pattern,unfilteredString,filter){var pattenMatches=unfilteredString.match(pattern);var filteredString=unfilteredString.replace(pattern,
VALUE_PLACEHOLDER);if(pattenMatches){var pattenMatchesLength=pattenMatches.length;var currentChunk;for(var i=0;i<pattenMatchesLength;i++){currentChunk=pattenMatches.shift();filteredString=filteredString.replace(VALUE_PLACEHOLDER,filter(currentChunk))}}return filteredString}function sanitizeRGBChunks(formattedString){return filterStringChunks(R_RGB,formattedString,sanitizeRGBChunk)}function sanitizeRGBChunk(rgbChunk){var numbers=rgbChunk.match(R_UNFORMATTED_VALUES);var numbersLength=numbers.length;
var sanitizedString=rgbChunk.match(R_RGB_PREFIX)[0];for(var i=0;i<numbersLength;i++)sanitizedString+=parseInt(numbers[i],10)+",";sanitizedString=sanitizedString.slice(0,-1)+")";return sanitizedString}function getFormatManifests(stateObject){var manifestAccumulator={};Tweenable.each(stateObject,function(prop){var currentProp=stateObject[prop];if(typeof currentProp==="string"){var rawValues=getValuesFrom(currentProp);manifestAccumulator[prop]={"formatString":getFormatStringFrom(currentProp),"chunkNames":getFormatChunksFrom(rawValues,
prop)}}});return manifestAccumulator}function expandFormattedProperties(stateObject,formatManifests){Tweenable.each(formatManifests,function(prop){var currentProp=stateObject[prop];var rawValues=getValuesFrom(currentProp);var rawValuesLength=rawValues.length;for(var i=0;i<rawValuesLength;i++)stateObject[formatManifests[prop].chunkNames[i]]=+rawValues[i];delete stateObject[prop]})}function collapseFormattedProperties(stateObject,formatManifests){Tweenable.each(formatManifests,function(prop){var currentProp=
stateObject[prop];var formatChunks=extractPropertyChunks(stateObject,formatManifests[prop].chunkNames);var valuesList=getValuesList(formatChunks,formatManifests[prop].chunkNames);currentProp=getFormattedValues(formatManifests[prop].formatString,valuesList);stateObject[prop]=sanitizeRGBChunks(currentProp)})}function extractPropertyChunks(stateObject,chunkNames){var extractedValues={};var currentChunkName,chunkNamesLength=chunkNames.length;for(var i=0;i<chunkNamesLength;i++){currentChunkName=chunkNames[i];
extractedValues[currentChunkName]=stateObject[currentChunkName];delete stateObject[currentChunkName]}return extractedValues}var getValuesList_accumulator=[];function getValuesList(stateObject,chunkNames){getValuesList_accumulator.length=0;var chunkNamesLength=chunkNames.length;for(var i=0;i<chunkNamesLength;i++)getValuesList_accumulator.push(stateObject[chunkNames[i]]);return getValuesList_accumulator}function getFormattedValues(formatString,rawValues){var formattedValueString=formatString;var rawValuesLength=
rawValues.length;for(var i=0;i<rawValuesLength;i++)formattedValueString=formattedValueString.replace(VALUE_PLACEHOLDER,+rawValues[i].toFixed(4));return formattedValueString}function getValuesFrom(formattedString){return formattedString.match(R_UNFORMATTED_VALUES)}function expandEasingObject(easingObject,tokenData){Tweenable.each(tokenData,function(prop){var currentProp=tokenData[prop];var chunkNames=currentProp.chunkNames;var chunkLength=chunkNames.length;var easing=easingObject[prop];var i;if(typeof easing===
"string"){var easingChunks=easing.split(" ");var lastEasingChunk=easingChunks[easingChunks.length-1];for(i=0;i<chunkLength;i++)easingObject[chunkNames[i]]=easingChunks[i]||lastEasingChunk}else for(i=0;i<chunkLength;i++)easingObject[chunkNames[i]]=easing;delete easingObject[prop]})}function collapseEasingObject(easingObject,tokenData){Tweenable.each(tokenData,function(prop){var currentProp=tokenData[prop];var chunkNames=currentProp.chunkNames;var chunkLength=chunkNames.length;var firstEasing=easingObject[chunkNames[0]];
var typeofEasings=typeof firstEasing;if(typeofEasings==="string"){var composedEasingString="";for(var i=0;i<chunkLength;i++){composedEasingString+=" "+easingObject[chunkNames[i]];delete easingObject[chunkNames[i]]}easingObject[prop]=composedEasingString.substr(1)}else easingObject[prop]=firstEasing})}Tweenable.prototype.filter.token={"tweenCreated":function(currentState,fromState,toState,easingObject){sanitizeObjectForHexProps(currentState);sanitizeObjectForHexProps(fromState);sanitizeObjectForHexProps(toState);
this._tokenData=getFormatManifests(currentState)},"beforeTween":function(currentState,fromState,toState,easingObject){expandEasingObject(easingObject,this._tokenData);expandFormattedProperties(currentState,this._tokenData);expandFormattedProperties(fromState,this._tokenData);expandFormattedProperties(toState,this._tokenData)},"afterTween":function(currentState,fromState,toState,easingObject){collapseFormattedProperties(currentState,this._tokenData);collapseFormattedProperties(fromState,this._tokenData);
collapseFormattedProperties(toState,this._tokenData);collapseEasingObject(easingObject,this._tokenData)}}})(Tweenable)}).call(null)},{}],2:[function(require,module,exports){var Shape=require("./shape");var utils=require("./utils");var Circle=function Circle(container,options){this._pathTemplate="M 50,50 m 0,-{radius}"+" a {radius},{radius} 0 1 1 0,{2radius}"+" a {radius},{radius} 0 1 1 0,-{2radius}";this.containerAspectRatio=1;Shape.apply(this,arguments)};Circle.prototype=new Shape;Circle.prototype.constructor=
Circle;Circle.prototype._pathString=function _pathString(opts){var widthOfWider=opts.strokeWidth;if(opts.trailWidth&&opts.trailWidth>opts.strokeWidth)widthOfWider=opts.trailWidth;var r=50-widthOfWider/2;return utils.render(this._pathTemplate,{radius:r,"2radius":r*2})};Circle.prototype._trailString=function _trailString(opts){return this._pathString(opts)};module.exports=Circle},{"./shape":7,"./utils":8}],3:[function(require,module,exports){var Shape=require("./shape");var utils=require("./utils");
var Line=function Line(container,options){this._pathTemplate="M 0,{center} L 100,{center}";Shape.apply(this,arguments)};Line.prototype=new Shape;Line.prototype.constructor=Line;Line.prototype._initializeSvg=function _initializeSvg(svg,opts){svg.setAttribute("viewBox","0 0 100 "+opts.strokeWidth);svg.setAttribute("preserveAspectRatio","none")};Line.prototype._pathString=function _pathString(opts){return utils.render(this._pathTemplate,{center:opts.strokeWidth/2})};Line.prototype._trailString=function _trailString(opts){return this._pathString(opts)};
module.exports=Line},{"./shape":7,"./utils":8}],4:[function(require,module,exports){module.exports={Line:require("./line"),Circle:require("./circle"),SemiCircle:require("./semicircle"),Path:require("./path"),Shape:require("./shape"),utils:require("./utils")}},{"./circle":2,"./line":3,"./path":5,"./semicircle":6,"./shape":7,"./utils":8}],5:[function(require,module,exports){var Tweenable=require("shifty");var utils=require("./utils");var EASING_ALIASES={easeIn:"easeInCubic",easeOut:"easeOutCubic",easeInOut:"easeInOutCubic"};
var Path=function Path(path,opts){if(!(this instanceof Path))throw new Error("Constructor was called without new keyword");opts=utils.extend({duration:800,easing:"linear",from:{},to:{},step:function(){}},opts);var element;if(utils.isString(path))element=document.querySelector(path);else element=path;this.path=element;this._opts=opts;this._tweenable=null;var length=this.path.getTotalLength();this.path.style.strokeDasharray=length+" "+length;this.set(0)};Path.prototype.value=function value(){var offset=
this._getComputedDashOffset();var length=this.path.getTotalLength();var progress=1-offset/length;return parseFloat(progress.toFixed(6),10)};Path.prototype.set=function set(progress){this.stop();this.path.style.strokeDashoffset=this._progressToOffset(progress);var step=this._opts.step;if(utils.isFunction(step)){var easing=this._easing(this._opts.easing);var values=this._calculateTo(progress,easing);var reference=this._opts.shape||this;step(values,reference,this._opts.attachment)}};Path.prototype.stop=
function stop(){this._stopTween();this.path.style.strokeDashoffset=this._getComputedDashOffset()};Path.prototype.animate=function animate(progress,opts,cb){opts=opts||{};if(utils.isFunction(opts)){cb=opts;opts={}}var passedOpts=utils.extend({},opts);var defaultOpts=utils.extend({},this._opts);opts=utils.extend(defaultOpts,opts);var shiftyEasing=this._easing(opts.easing);var values=this._resolveFromAndTo(progress,shiftyEasing,passedOpts);this.stop();this.path.getBoundingClientRect();var offset=this._getComputedDashOffset();
var newOffset=this._progressToOffset(progress);var self=this;this._tweenable=new Tweenable;this._tweenable.tween({from:utils.extend({offset:offset},values.from),to:utils.extend({offset:newOffset},values.to),duration:opts.duration,easing:shiftyEasing,step:function(state){self.path.style.strokeDashoffset=state.offset;var reference=opts.shape||self;opts.step(state,reference,opts.attachment)},finish:function(state){if(utils.isFunction(cb))cb()}})};Path.prototype._getComputedDashOffset=function _getComputedDashOffset(){var computedStyle=
window.getComputedStyle(this.path,null);return parseFloat(computedStyle.getPropertyValue("stroke-dashoffset"),10)};Path.prototype._progressToOffset=function _progressToOffset(progress){var length=this.path.getTotalLength();return length-progress*length};Path.prototype._resolveFromAndTo=function _resolveFromAndTo(progress,easing,opts){if(opts.from&&opts.to)return{from:opts.from,to:opts.to};return{from:this._calculateFrom(easing),to:this._calculateTo(progress,easing)}};Path.prototype._calculateFrom=
function _calculateFrom(easing){return Tweenable.interpolate(this._opts.from,this._opts.to,this.value(),easing)};Path.prototype._calculateTo=function _calculateTo(progress,easing){return Tweenable.interpolate(this._opts.from,this._opts.to,progress,easing)};Path.prototype._stopTween=function _stopTween(){if(this._tweenable!==null){this._tweenable.stop();this._tweenable=null}};Path.prototype._easing=function _easing(easing){if(EASING_ALIASES.hasOwnProperty(easing))return EASING_ALIASES[easing];return easing};
module.exports=Path},{"./utils":8,"shifty":1}],6:[function(require,module,exports){var Shape=require("./shape");var Circle=require("./circle");var utils=require("./utils");var SemiCircle=function SemiCircle(container,options){this._pathTemplate="M 50,50 m -{radius},0"+" a {radius},{radius} 0 1 1 {2radius},0";this.containerAspectRatio=2;Shape.apply(this,arguments)};SemiCircle.prototype=new Shape;SemiCircle.prototype.constructor=SemiCircle;SemiCircle.prototype._initializeSvg=function _initializeSvg(svg,
opts){svg.setAttribute("viewBox","0 0 100 50")};SemiCircle.prototype._initializeTextContainer=function _initializeTextContainer(opts,container,textContainer){if(opts.text.style){textContainer.style.top="auto";textContainer.style.bottom="0";if(opts.text.alignToBottom)utils.setStyle(textContainer,"transform","translate(-50%, 0)");else utils.setStyle(textContainer,"transform","translate(-50%, 50%)")}};SemiCircle.prototype._pathString=Circle.prototype._pathString;SemiCircle.prototype._trailString=Circle.prototype._trailString;
module.exports=SemiCircle},{"./circle":2,"./shape":7,"./utils":8}],7:[function(require,module,exports){var Path=require("./path");var utils=require("./utils");var DESTROYED_ERROR="Object is destroyed";var Shape=function Shape(container,opts){if(!(this instanceof Shape))throw new Error("Constructor was called without new keyword");if(arguments.length===0)return;this._opts=utils.extend({color:"#555",strokeWidth:1,trailColor:null,trailWidth:null,fill:null,text:{style:{color:null,position:"absolute",
left:"50%",top:"50%",padding:0,margin:0,transform:{prefix:true,value:"translate(-50%, -50%)"}},autoStyleContainer:true,alignToBottom:true,value:null,className:"progressbar-text"},svgStyle:{display:"block",width:"100%"},warnings:false},opts,true);if(utils.isObject(opts)&&opts.svgStyle!==undefined)this._opts.svgStyle=opts.svgStyle;if(utils.isObject(opts)&&utils.isObject(opts.text)&&opts.text.style!==undefined)this._opts.text.style=opts.text.style;var svgView=this._createSvgView(this._opts);var element;
if(utils.isString(container))element=document.querySelector(container);else element=container;if(!element)throw new Error("Container does not exist: "+container);this._container=element;this._container.appendChild(svgView.svg);if(this._opts.warnings)this._warnContainerAspectRatio(this._container);if(this._opts.svgStyle)utils.setStyles(svgView.svg,this._opts.svgStyle);this.svg=svgView.svg;this.path=svgView.path;this.trail=svgView.trail;this.text=null;var newOpts=utils.extend({attachment:undefined,
shape:this},this._opts);this._progressPath=new Path(svgView.path,newOpts);if(utils.isObject(this._opts.text)&&this._opts.text.value!==null)this.setText(this._opts.text.value)};Shape.prototype.animate=function animate(progress,opts,cb){if(this._progressPath===null)throw new Error(DESTROYED_ERROR);this._progressPath.animate(progress,opts,cb)};Shape.prototype.stop=function stop(){if(this._progressPath===null)throw new Error(DESTROYED_ERROR);if(this._progressPath===undefined)return;this._progressPath.stop()};
Shape.prototype.destroy=function destroy(){if(this._progressPath===null)throw new Error(DESTROYED_ERROR);this.stop();this.svg.parentNode.removeChild(this.svg);this.svg=null;this.path=null;this.trail=null;this._progressPath=null;if(this.text!==null){this.text.parentNode.removeChild(this.text);this.text=null}};Shape.prototype.set=function set(progress){if(this._progressPath===null)throw new Error(DESTROYED_ERROR);this._progressPath.set(progress)};Shape.prototype.value=function value(){if(this._progressPath===
null)throw new Error(DESTROYED_ERROR);if(this._progressPath===undefined)return 0;return this._progressPath.value()};Shape.prototype.setText=function setText(newText){if(this._progressPath===null)throw new Error(DESTROYED_ERROR);if(this.text===null){this.text=this._createTextContainer(this._opts,this._container);this._container.appendChild(this.text)}if(utils.isObject(newText)){utils.removeChildren(this.text);this.text.appendChild(newText)}else this.text.innerHTML=newText};Shape.prototype._createSvgView=
function _createSvgView(opts){var svg=document.createElementNS("http://www.w3.org/2000/svg","svg");this._initializeSvg(svg,opts);var trailPath=null;if(opts.trailColor||opts.trailWidth){trailPath=this._createTrail(opts);svg.appendChild(trailPath)}var path=this._createPath(opts);svg.appendChild(path);return{svg:svg,path:path,trail:trailPath}};Shape.prototype._initializeSvg=function _initializeSvg(svg,opts){svg.setAttribute("viewBox","0 0 100 100")};Shape.prototype._createPath=function _createPath(opts){var pathString=
this._pathString(opts);return this._createPathElement(pathString,opts)};Shape.prototype._createTrail=function _createTrail(opts){var pathString=this._trailString(opts);var newOpts=utils.extend({},opts);if(!newOpts.trailColor)newOpts.trailColor="#eee";if(!newOpts.trailWidth)newOpts.trailWidth=newOpts.strokeWidth;newOpts.color=newOpts.trailColor;newOpts.strokeWidth=newOpts.trailWidth;newOpts.fill=null;return this._createPathElement(pathString,newOpts)};Shape.prototype._createPathElement=function _createPathElement(pathString,
opts){var path=document.createElementNS("http://www.w3.org/2000/svg","path");path.setAttribute("d",pathString);path.setAttribute("stroke",opts.color);path.setAttribute("stroke-width",opts.strokeWidth);if(opts.fill)path.setAttribute("fill",opts.fill);else path.setAttribute("fill-opacity","0");return path};Shape.prototype._createTextContainer=function _createTextContainer(opts,container){var textContainer=document.createElement("div");textContainer.className=opts.text.className;var textStyle=opts.text.style;
if(textStyle){if(opts.text.autoStyleContainer)container.style.position="relative";utils.setStyles(textContainer,textStyle);if(!textStyle.color)textContainer.style.color=opts.color}this._initializeTextContainer(opts,container,textContainer);return textContainer};Shape.prototype._initializeTextContainer=function(opts,container,element){};Shape.prototype._pathString=function _pathString(opts){throw new Error("Override this function for each progress bar");};Shape.prototype._trailString=function _trailString(opts){throw new Error("Override this function for each progress bar");
};Shape.prototype._warnContainerAspectRatio=function _warnContainerAspectRatio(container){if(!this.containerAspectRatio)return;var computedStyle=window.getComputedStyle(container,null);var width=parseFloat(computedStyle.getPropertyValue("width"),10);var height=parseFloat(computedStyle.getPropertyValue("height"),10);if(!utils.floatEquals(this.containerAspectRatio,width/height)){console.warn("Incorrect aspect ratio of container","#"+container.id,"detected:",computedStyle.getPropertyValue("width")+"(width)",
"/",computedStyle.getPropertyValue("height")+"(height)","=",width/height);console.warn("Aspect ratio of should be",this.containerAspectRatio)}};module.exports=Shape},{"./path":5,"./utils":8}],8:[function(require,module,exports){var PREFIXES="Webkit Moz O ms".split(" ");var FLOAT_COMPARISON_EPSILON=.001;function extend(destination,source,recursive){destination=destination||{};source=source||{};recursive=recursive||false;for(var attrName in source)if(source.hasOwnProperty(attrName)){var destVal=destination[attrName];
var sourceVal=source[attrName];if(recursive&&isObject(destVal)&&isObject(sourceVal))destination[attrName]=extend(destVal,sourceVal,recursive);else destination[attrName]=sourceVal}return destination}function render(template,vars){var rendered=template;for(var key in vars)if(vars.hasOwnProperty(key)){var val=vars[key];var regExpString="\\{"+key+"\\}";var regExp=new RegExp(regExpString,"g");rendered=rendered.replace(regExp,val)}return rendered}function setStyle(element,style,value){var elStyle=element.style;
for(var i=0;i<PREFIXES.length;++i){var prefix=PREFIXES[i];elStyle[prefix+capitalize(style)]=value}elStyle[style]=value}function setStyles(element,styles){forEachObject(styles,function(styleValue,styleName){if(styleValue===null||styleValue===undefined)return;if(isObject(styleValue)&&styleValue.prefix===true)setStyle(element,styleName,styleValue.value);else element.style[styleName]=styleValue})}function capitalize(text){return text.charAt(0).toUpperCase()+text.slice(1)}function isString(obj){return typeof obj===
"string"||obj instanceof String}function isFunction(obj){return typeof obj==="function"}function isArray(obj){return Object.prototype.toString.call(obj)==="[object Array]"}function isObject(obj){if(isArray(obj))return false;var type=typeof obj;return type==="object"&&!!obj}function forEachObject(object,callback){for(var key in object)if(object.hasOwnProperty(key)){var val=object[key];callback(val,key)}}function floatEquals(a,b){return Math.abs(a-b)<FLOAT_COMPARISON_EPSILON}function removeChildren(el){while(el.firstChild)el.removeChild(el.firstChild)}
module.exports={extend:extend,render:render,setStyle:setStyle,setStyles:setStyles,capitalize:capitalize,isString:isString,isFunction:isFunction,isObject:isObject,forEachObject:forEachObject,floatEquals:floatEquals,removeChildren:removeChildren}},{}]},{},[4])(4)});
